import{S as an,i as on,s as sn,a as Ue,k as X,q as it,e as Ut,N as cn,h as R,c as xe,l as Q,m as te,r as at,n as Y,b as Ze,E as k,F as ut,g as pt,f as xt,d as vt,K as un,G as kt,D as Lt,y as Yt,z as qt,A as zt,u as Pt,B as Ht,w as ln,T as fn,I as Rt,Z as Ft,U as pn,v as Dt}from"../chunks/index.05a8d8df.js";import{u as yn,a as We,d as It,i as dn,C as hn}from"../chunks/helpers.de17de56.js";import{a as Kt}from"../chunks/Confirm.1fc3501b.js";import{b as vn,u as bn,r as mn,p as $t,c as gn}from"../chunks/store.49b29ba0.js";import{C as wn,c as _n}from"../chunks/ColorInput.1da7391f.js";import{C as En}from"../chunks/CategoryIcon.da2f02fa.js";function Sn(p){return p.id=yn(),vn(p)}function On(p){return bn(p)}function An(p){return mn(p)}const Tt={create:Sn,update:On,remove:An};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function yt(p,l,o,y){function v(f){return f instanceof o?f:new o(function(a){a(f)})}return new(o||(o=Promise))(function(f,a){function S(A){try{c(y.next(A))}catch(U){a(U)}}function g(A){try{c(y.throw(A))}catch(U){a(U)}}function c(A){A.done?f(A.value):v(A.value).then(S,g)}c((y=y.apply(p,l||[])).next())})}function ct(p,l){var o={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},y,v,f,a;return a={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function S(c){return function(A){return g([c,A])}}function g(c){if(y)throw new TypeError("Generator is already executing.");for(;o;)try{if(y=1,v&&(f=c[0]&2?v.return:c[0]?v.throw||((f=v.return)&&f.call(v),0):v.next)&&!(f=f.call(v,c[1])).done)return f;switch(v=0,f&&(c=[c[0]&2,f.value]),c[0]){case 0:case 1:f=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,v=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(f=o.trys,!(f=f.length>0&&f[f.length-1])&&(c[0]===6||c[0]===2)){o=0;continue}if(c[0]===3&&(!f||c[1]>f[0]&&c[1]<f[3])){o.label=c[1];break}if(c[0]===6&&o.label<f[1]){o.label=f[1],f=c;break}if(f&&o.label<f[2]){o.label=f[2],o.ops.push(c);break}f[2]&&o.ops.pop(),o.trys.pop();continue}c=l.call(p,o)}catch(A){c=[6,A],v=0}finally{y=f=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Tn(p){var l=[p.schema.primKey].concat(p.schema.indexes);return l.map(function(o){return o.src}).join(",")}function Nn(p){for(var l={},o=0,y=p.tables;o<y.length;o++){var v=y[o];l[v.name]=v.schema}return l}function Wt(p,l){return new Promise(function(o,y){var v=new FileReader;v.onabort=function(f){return y(new Error("file read aborted"))},v.onerror=function(f){return y(f.target.error)},v.onload=function(f){return o(f.target.result)},l==="binary"?v.readAsArrayBuffer(p):v.readAsText(p)})}function Xt(p,l){if(typeof FileReaderSync>"u")throw new Error("FileReaderSync missing. Reading blobs synchronously requires code to run from within a web worker. Use TSON.encapsulateAsync() to do it from the main thread.");var o=new FileReaderSync,y=l==="binary"?o.readAsArrayBuffer(p):o.readAsText(p);return y}var Ct=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jt(p,l){return l={exports:{}},p(l,l.exports),l.exports}var St=jt(function(p,l){(function(o,y){p.exports=y()})(Ct,function(){function o(h){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(m){return typeof m}:o=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},o(h)}function y(h,m,_,E,P,D,ve){try{var J=h[D](ve),b=J.value}catch(ne){_(ne);return}J.done?m(b):Promise.resolve(b).then(E,P)}function v(h){return function(){var m=this,_=arguments;return new Promise(function(E,P){var D=h.apply(m,_);function ve(b){y(D,E,P,ve,J,"next",b)}function J(b){y(D,E,P,ve,J,"throw",b)}ve(void 0)})}}function f(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function a(h,m){for(var _=0;_<m.length;_++){var E=m[_];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(h,E.key,E)}}function S(h,m,_){return m&&a(h.prototype,m),_&&a(h,_),h}function g(h,m,_){return m in h?Object.defineProperty(h,m,{value:_,enumerable:!0,configurable:!0,writable:!0}):h[m]=_,h}function c(h,m){var _=Object.keys(h);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(h);m&&(E=E.filter(function(P){return Object.getOwnPropertyDescriptor(h,P).enumerable})),_.push.apply(_,E)}return _}function A(h){for(var m=1;m<arguments.length;m++){var _=arguments[m]!=null?arguments[m]:{};m%2?c(Object(_),!0).forEach(function(E){g(h,E,_[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(_)):c(Object(_)).forEach(function(E){Object.defineProperty(h,E,Object.getOwnPropertyDescriptor(_,E))})}return h}function U(h,m){return O(h)||K(h,m)||pe()}function M(h){return B(h)||F(h)||re()}function B(h){if(Array.isArray(h)){for(var m=0,_=new Array(h.length);m<h.length;m++)_[m]=h[m];return _}}function O(h){if(Array.isArray(h))return h}function F(h){if(Symbol.iterator in Object(h)||Object.prototype.toString.call(h)==="[object Arguments]")return Array.from(h)}function K(h,m){if(Symbol.iterator in Object(h)||Object.prototype.toString.call(h)==="[object Arguments]"){var _=[],E=!0,P=!1,D=void 0;try{for(var ve=h[Symbol.iterator](),J;!(E=(J=ve.next()).done)&&(_.push(J.value),!(m&&_.length===m));E=!0);}catch(b){P=!0,D=b}finally{try{!E&&ve.return!=null&&ve.return()}finally{if(P)throw D}}return _}}function re(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function pe(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var T=function h(m){f(this,h),this.p=new Promise(m)};T.__typeson__type__="TypesonPromise",typeof Symbol<"u"&&(T.prototype[Symbol.toStringTag]="TypesonPromise"),T.prototype.then=function(h,m){var _=this;return new T(function(E,P){_.p.then(function(D){E(h?h(D):D)}).catch(function(D){return m?m(D):Promise.reject(D)}).then(E,P)})},T.prototype.catch=function(h){return this.then(null,h)},T.resolve=function(h){return new T(function(m){m(h)})},T.reject=function(h){return new T(function(m,_){_(h)})},["all","race"].forEach(function(h){T[h]=function(m){return new T(function(_,E){Promise[h](m.map(function(P){return P&&P.constructor&&P.constructor.__typeson__type__==="TypesonPromise"?P.p:P})).then(_,E)})}});var ce={},H=ce.toString,Te={}.hasOwnProperty,ge=Object.getPrototypeOf,Se=Te.toString;function u(h,m){return se(h)&&typeof h.then=="function"&&(!m||typeof h.catch=="function")}function r(h){return H.call(h).slice(8,-1)}function w(h,m){if(!h||o(h)!=="object")return!1;var _=ge(h);if(!_)return m===null;var E=Te.call(_,"constructor")&&_.constructor;return typeof E!="function"?m===null:m===E||m!==null&&Se.call(E)===Se.call(m)||typeof m=="function"&&typeof E.__typeson__type__=="string"&&E.__typeson__type__===m.__typeson__type__}function d(h){if(!h||r(h)!=="Object")return!1;var m=ge(h);return m?w(h,Object):!0}function ue(h){if(!h||r(h)!=="Object")return!1;var m=ge(h);return m?w(h,Object)||ue(m):!0}function se(h){return h&&o(h)==="object"}function W(h){return h.replace(/~/g,"~0").replace(/\./g,"~1")}function Z(h){return h.replace(/~1/g,".").replace(/~0/g,"~")}function ie(h,m){if(m==="")return h;var _=m.indexOf(".");if(_>-1){var E=h[Z(m.slice(0,_))];return E===void 0?void 0:ie(E,m.slice(_+1))}return h[Z(m)]}function ae(h,m,_){if(m==="")return _;var E=m.indexOf(".");if(E>-1){var P=h[Z(m.slice(0,E))];return ae(P,m.slice(E+1),_)}return h[Z(m)]=_,h}function Fe(h){return h===null?"null":Array.isArray(h)?"array":o(h)}var Le=Object.keys,Ne=Array.isArray,Re={}.hasOwnProperty,$e=["type","replaced","iterateIn","iterateUnsetNumeric"];function $(h,m){if(h.keypath==="")return-1;var _=h.keypath.match(/\./g)||0,E=m.keypath.match(/\./g)||0;return _&&(_=_.length),E&&(E=E.length),_>E?-1:_<E?1:h.keypath<m.keypath?-1:h.keypath>m.keypath}var he=function(){function h(m){f(this,h),this.options=m,this.plainObjectReplacers=[],this.nonplainObjectReplacers=[],this.revivers={},this.types={}}return S(h,[{key:"stringify",value:function(_,E,P,D){D=A({},this.options,{},D,{stringification:!0});var ve=this.encapsulate(_,null,D);return Ne(ve)?JSON.stringify(ve[0],E,P):ve.then(function(J){return JSON.stringify(J,E,P)})}},{key:"stringifySync",value:function(_,E,P,D){return this.stringify(_,E,P,A({throwOnBadSyncType:!0},D,{sync:!0}))}},{key:"stringifyAsync",value:function(_,E,P,D){return this.stringify(_,E,P,A({throwOnBadSyncType:!0},D,{sync:!1}))}},{key:"parse",value:function(_,E,P){return P=A({},this.options,{},P,{parse:!0}),this.revive(JSON.parse(_,E),P)}},{key:"parseSync",value:function(_,E,P){return this.parse(_,E,A({throwOnBadSyncType:!0},P,{sync:!0}))}},{key:"parseAsync",value:function(_,E,P){return this.parse(_,E,A({throwOnBadSyncType:!0},P,{sync:!1}))}},{key:"specialTypeNames",value:function(_,E){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return P.returnTypeNames=!0,this.encapsulate(_,E,P)}},{key:"rootTypeName",value:function(_,E){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return P.iterateNone=!0,this.encapsulate(_,E,P)}},{key:"encapsulate",value:function(_,E,P){P=A({sync:!0},this.options,{},P);var D=P,ve=D.sync,J=this,b={},ne=[],le=[],De=[],ze="cyclic"in P?P.cyclic:!0,Je=P,et=Je.encapsulateObserver,Me=Ee("",_,ze,E||{},De);function Ge(x){var n=Object.values(b);if(P.iterateNone)return n.length?n[0]:h.getJSONType(x);if(n.length){if(P.returnTypeNames)return M(new Set(n));!x||!d(x)||Re.call(x,"$types")?x={$:x,$types:{$:b}}:x.$types=b}else se(x)&&Re.call(x,"$types")&&(x={$:x,$types:!0});return P.returnTypeNames?!1:x}function Pe(x,n){return _e.apply(this,arguments)}function _e(){return _e=v(regeneratorRuntime.mark(function x(n,e){var t;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Promise.all(e.map(function(N){return N[1].p}));case 2:return t=s.sent,s.next=5,Promise.all(t.map(function(){var N=v(regeneratorRuntime.mark(function I(V){var j,z,fe,ye,Oe,we,me,Ce,Be,oe,Ve,L,C,q;return regeneratorRuntime.wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(j=[],z=e.splice(0,1),fe=U(z,1),ye=fe[0],Oe=U(ye,7),we=Oe[0],me=Oe[2],Ce=Oe[3],Be=Oe[4],oe=Oe[5],Ve=Oe[6],L=Ee(we,V,me,Ce,j,!0,Ve),C=w(L,T),!(we&&C)){ee.next=11;break}return ee.next=8,L.p;case 8:return q=ee.sent,Be[oe]=q,ee.abrupt("return",Pe(n,j));case 11:return we?Be[oe]=L:C?n=L.p:n=L,ee.abrupt("return",Pe(n,j));case 13:case"end":return ee.stop()}},I)}));return function(I){return N.apply(this,arguments)}}()));case 5:return s.abrupt("return",n);case 6:case"end":return s.stop()}},x)})),_e.apply(this,arguments)}function be(x,n,e){Object.assign(x,n);var t=$e.map(function(i){var s=x[i];return delete x[i],s});e(),$e.forEach(function(i,s){x[i]=t[s]})}function Ee(x,n,e,t,i,s,N){var I,V={},j=o(n),z=et?function(C){var q=N||t.type||h.getJSONType(n);et(Object.assign(C||V,{keypath:x,value:n,cyclic:e,stateObj:t,promisesData:i,resolvingTypesonPromise:s,awaitingTypesonPromise:w(n,T)},{type:q}))}:null;if(["string","boolean","number","undefined"].includes(j))return n===void 0||j==="number"&&(isNaN(n)||n===-1/0||n===1/0)?(t.replaced?I=n:I=Ie(x,n,t,i,!1,s,z),I!==n&&(V={replaced:I})):I=n,z&&z(),I;if(n===null)return z&&z(),n;if(e&&!t.iterateIn&&!t.iterateUnsetNumeric&&n&&o(n)==="object"){var fe=ne.indexOf(n);if(fe<0)e===!0&&(ne.push(n),le.push(x));else return b[x]="#",z&&z({cyclicKeypath:le[fe]}),"#"+le[fe]}var ye=d(n),Oe=Ne(n),we=(ye||Oe)&&(!J.plainObjectReplacers.length||t.replaced)||t.iterateIn?n:Ie(x,n,t,i,ye||Oe,null,z),me;if(we!==n?(I=we,V={replaced:we}):x===""&&w(n,T)?(i.push([x,n,e,t,void 0,void 0,t.type]),I=n):Oe&&t.iterateIn!=="object"||t.iterateIn==="array"?(me=new Array(n.length),V={clone:me}):!["function","symbol"].includes(o(n))&&!("toJSON"in n)&&!w(n,T)&&!w(n,Promise)&&!w(n,ArrayBuffer)||ye||t.iterateIn==="object"?(me={},t.addLength&&(me.length=n.length),V={clone:me}):I=n,z&&z(),P.iterateNone)return me||I;if(!me)return I;if(t.iterateIn){var Ce=function(q){var G={ownKeys:Re.call(n,q)};be(t,G,function(){var ee=x+(x?".":"")+W(q),de=Ee(ee,n[q],!!e,t,i,s);w(de,T)?i.push([ee,de,!!e,t,me,q,t.type]):de!==void 0&&(me[q]=de)})};for(var Be in n)Ce(Be);z&&z({endIterateIn:!0,end:!0})}else Le(n).forEach(function(C){var q=x+(x?".":"")+W(C),G={ownKeys:!0};be(t,G,function(){var ee=Ee(q,n[C],!!e,t,i,s);w(ee,T)?i.push([q,ee,!!e,t,me,C,t.type]):ee!==void 0&&(me[C]=ee)})}),z&&z({endIterateOwn:!0,end:!0});if(t.iterateUnsetNumeric){for(var oe=n.length,Ve=function(q){if(!(q in n)){var G=x+(x?".":"")+q,ee={ownKeys:!1};be(t,ee,function(){var de=Ee(G,void 0,!!e,t,i,s);w(de,T)?i.push([G,de,!!e,t,me,q,t.type]):de!==void 0&&(me[q]=de)})}},L=0;L<oe;L++)Ve(L);z&&z({endIterateUnsetNumeric:!0,end:!0})}return me}function Ie(x,n,e,t,i,s,N){for(var I=i?J.plainObjectReplacers:J.nonplainObjectReplacers,V=I.length;V--;){var j=I[V];if(j.test(n,e)){var z=j.type;if(J.revivers[z]){var fe=b[x];b[x]=fe?[z].concat(fe):z}if(Object.assign(e,{type:z,replaced:!0}),(ve||!j.replaceAsync)&&!j.replace)return N&&N({typeDetected:!0}),Ee(x,n,ze&&"readonly",e,t,s,z);N&&N({replacing:!0});var ye=ve||!j.replaceAsync?"replace":"replaceAsync";return Ee(x,j[ye](n,e),ze&&"readonly",e,t,s,z)}}return n}return De.length?ve&&P.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(Pe(Me,De)).then(Ge):!ve&&P.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():P.stringification&&ve?[Ge(Me)]:ve?Ge(Me):Promise.resolve(Ge(Me))}},{key:"encapsulateSync",value:function(_,E,P){return this.encapsulate(_,E,A({throwOnBadSyncType:!0},P,{sync:!0}))}},{key:"encapsulateAsync",value:function(_,E,P){return this.encapsulate(_,E,A({throwOnBadSyncType:!0},P,{sync:!1}))}},{key:"revive",value:function(_,E){var P=_&&_.$types;if(!P)return _;if(P===!0)return _.$;E=A({sync:!0},this.options,{},E);var D=E,ve=D.sync,J=[],b={},ne=!0;P.$&&d(P.$)&&(_=_.$,P=P.$,ne=!1);var le=this;function De(_e,be){var Ee=le.revivers[_e]||[],Ie=U(Ee,1),x=Ie[0];if(!x)throw new Error("Unregistered type: "+_e);return ve&&!("revive"in x)?be:x[ve&&x.revive?"revive":!ve&&x.reviveAsync?"reviveAsync":"revive"](be,b)}function ze(){var _e=[];if(Object.entries(P).forEach(function(be){var Ee=U(be,2),Ie=Ee[0],x=Ee[1];x!=="#"&&[].concat(x).forEach(function(n){var e=le.revivers[n]||[null,{}],t=U(e,2),i=t[1].plain;i&&(_e.push({keypath:Ie,type:n}),delete P[Ie])})}),!!_e.length)return _e.sort($).reduce(function be(Ee,Ie){var x=Ie.keypath,n=Ie.type;if(u(Ee))return Ee.then(function(i){return be(i,{keypath:x,type:n})});var e=ie(_,x);if(e=De(n,e),w(e,T))return e.then(function(i){var s=ae(_,x,i);s===i&&(_=s)});var t=ae(_,x,e);t===e&&(_=t)},void 0)}var Je=[];function et(_e,be,Ee,Ie,x){if(!(ne&&_e==="$types")){var n=P[_e],e=Ne(be);if(e||d(be)){var t=e?new Array(be.length):{};for(Le(be).forEach(function(fe){var ye=et(_e+(_e?".":"")+W(fe),be[fe],Ee||t,t,fe),Oe=function(me){return w(me,je)?t[fe]=void 0:me!==void 0&&(t[fe]=me),me};w(ye,T)?Je.push(ye.then(function(we){return Oe(we)})):Oe(ye)}),be=t;J.length;){var i=U(J[0],4),s=i[0],N=i[1],I=i[2],V=i[3],j=ie(s,N);if(j!==void 0)I[V]=j;else break;J.splice(0,1)}}if(!n)return be;if(n==="#"){var z=ie(Ee,be.slice(1));return z===void 0&&J.push([Ee,be.slice(1),Ie,x]),z}return[].concat(n).reduce(function fe(ye,Oe){return w(ye,T)?ye.then(function(we){return fe(we,Oe)}):De(Oe,ye)},be)}}function Me(_e){return w(_e,je)?void 0:_e}var Ge=ze(),Pe;return w(Ge,T)?Pe=Ge.then(function(){return _}):(Pe=et("",_,null),Je.length&&(Pe=T.resolve(Pe).then(function(_e){return T.all([_e].concat(Je))}).then(function(_e){var be=U(_e,1),Ee=be[0];return Ee}))),u(Pe)?ve&&E.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():w(Pe,T)?Pe.p.then(Me):Pe:!ve&&E.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():ve?Me(Pe):Promise.resolve(Me(Pe))}},{key:"reviveSync",value:function(_,E){return this.revive(_,A({throwOnBadSyncType:!0},E,{sync:!0}))}},{key:"reviveAsync",value:function(_,E){return this.revive(_,A({throwOnBadSyncType:!0},E,{sync:!1}))}},{key:"register",value:function(_,E){return E=E||{},[].concat(_).forEach(function P(D){var ve=this;if(Ne(D))return D.map(function(J){return P.call(ve,J)});D&&Le(D).forEach(function(J){if(J==="#")throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(h.JSON_TYPES.includes(J))throw new TypeError("Plain JSON object types are reserved as type names");var b=D[J],ne=b&&b.testPlainObjects?this.plainObjectReplacers:this.nonplainObjectReplacers,le=ne.filter(function(Ee){return Ee.type===J});if(le.length&&(ne.splice(ne.indexOf(le[0]),1),delete this.revivers[J],delete this.types[J]),typeof b=="function"){var De=b;b={test:function(Ie){return Ie&&Ie.constructor===De},replace:function(Ie){return A({},Ie)},revive:function(Ie){return Object.assign(Object.create(De.prototype),Ie)}}}else if(Ne(b)){var ze=b,Je=U(ze,3),et=Je[0],Me=Je[1],Ge=Je[2];b={test:et,replace:Me,revive:Ge}}if(!(!b||!b.test)){var Pe={type:J,test:b.test.bind(b)};b.replace&&(Pe.replace=b.replace.bind(b)),b.replaceAsync&&(Pe.replaceAsync=b.replaceAsync.bind(b));var _e=typeof E.fallback=="number"?E.fallback:E.fallback?0:1/0;if(b.testPlainObjects?this.plainObjectReplacers.splice(_e,0,Pe):this.nonplainObjectReplacers.splice(_e,0,Pe),b.revive||b.reviveAsync){var be={};b.revive&&(be.revive=b.revive.bind(b)),b.reviveAsync&&(be.reviveAsync=b.reviveAsync.bind(b)),this.revivers[J]=[be,{plain:b.testPlainObjects}]}this.types[J]=b}},this)},this),this}}]),h}(),je=function h(){f(this,h)};return je.__typeson__type__="TypesonUndefined",he.Undefined=je,he.Promise=T,he.isThenable=u,he.toStringTag=r,he.hasConstructorOf=w,he.isObject=se,he.isPlainObject=d,he.isUserObject=ue,he.escapeKeyPathComponent=W,he.unescapeKeyPathComponent=Z,he.getByKeyPath=ie,he.getJSONType=Fe,he.JSON_TYPES=["null","boolean","number","string","array","object"],he})}),Pn=jt(function(p,l){(function(o,y){p.exports=y()})(Ct,function(){function o(n){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function y(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function v(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function f(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function a(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function S(n){return function(t){if(Array.isArray(t))return g(t)}(n)||function(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}(n)||function(t,i){if(t){if(typeof t=="string")return g(t,i);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return g(t,i)}}(n)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function g(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function c(n){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function A(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function U(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function M(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function B(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function O(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?B(Object(t),!0).forEach(function(i){M(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):B(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function F(n,e){return function(i){if(Array.isArray(i))return i}(n)||function(i,s){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(i)))){var N=[],I=!0,V=!1,j=void 0;try{for(var z,fe=i[Symbol.iterator]();!(I=(z=fe.next()).done)&&(N.push(z.value),!s||N.length!==s);I=!0);}catch(ye){V=!0,j=ye}finally{try{I||fe.return==null||fe.return()}finally{if(V)throw j}}return N}}(n,e)||re(n,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function K(n){return function(t){if(Array.isArray(t))return pe(t)}(n)||function(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}(n)||re(n)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function re(n,e){if(n){if(typeof n=="string")return pe(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?pe(n,e):void 0}}function pe(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}var T=function n(e){A(this,n),this.p=new Promise(e)};T.__typeson__type__="TypesonPromise",typeof Symbol<"u"&&(T.prototype[Symbol.toStringTag]="TypesonPromise"),T.prototype.then=function(n,e){var t=this;return new T(function(i,s){t.p.then(function(N){i(n?n(N):N)}).catch(function(N){return e?e(N):Promise.reject(N)}).then(i,s)})},T.prototype.catch=function(n){return this.then(null,n)},T.resolve=function(n){return new T(function(e){e(n)})},T.reject=function(n){return new T(function(e,t){t(n)})},["all","race"].forEach(function(n){T[n]=function(e){return new T(function(t,i){Promise[n](e.map(function(s){return s&&s.constructor&&s.constructor.__typeson__type__==="TypesonPromise"?s.p:s})).then(t,i)})}});var ce={}.toString,H={}.hasOwnProperty,Te=Object.getPrototypeOf,ge=H.toString;function Se(n,e){return d(n)&&typeof n.then=="function"&&(!e||typeof n.catch=="function")}function u(n){return ce.call(n).slice(8,-1)}function r(n,e){if(!n||c(n)!=="object")return!1;var t=Te(n);if(!t)return e===null;var i=H.call(t,"constructor")&&t.constructor;return typeof i!="function"?e===null:e===i||e!==null&&ge.call(i)===ge.call(e)||typeof e=="function"&&typeof i.__typeson__type__=="string"&&i.__typeson__type__===e.__typeson__type__}function w(n){return!(!n||u(n)!=="Object")&&(!Te(n)||r(n,Object))}function d(n){return n&&c(n)==="object"}function ue(n){return n.replace(/~/g,"~0").replace(/\./g,"~1")}function se(n){return n.replace(/~1/g,".").replace(/~0/g,"~")}function W(n,e){if(e==="")return n;var t=e.indexOf(".");if(t>-1){var i=n[se(e.slice(0,t))];return i===void 0?void 0:W(i,e.slice(t+1))}return n[se(e)]}function Z(n,e,t){if(e==="")return t;var i=e.indexOf(".");return i>-1?Z(n[se(e.slice(0,i))],e.slice(i+1),t):(n[se(e)]=t,n)}function ie(n,e,t){return t?e?e(n):n:(n&&n.then||(n=Promise.resolve(n)),e?n.then(e):n)}var ae=Object.keys,Fe=Array.isArray,Le={}.hasOwnProperty,Ne=["type","replaced","iterateIn","iterateUnsetNumeric"];function Re(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(i){return Promise.reject(i)}}}function $e(n,e){if(n.keypath==="")return-1;var t=n.keypath.match(/\./g)||0,i=e.keypath.match(/\./g)||0;return t&&(t=t.length),i&&(i=i.length),t>i?-1:t<i?1:n.keypath<e.keypath?-1:n.keypath>e.keypath}var $=function(){function n(e){A(this,n),this.options=e,this.plainObjectReplacers=[],this.nonplainObjectReplacers=[],this.revivers={},this.types={}}return function(t,i,s){return i&&U(t.prototype,i),s&&U(t,s),t}(n,[{key:"stringify",value:function(t,i,s,N){N=O(O(O({},this.options),N),{},{stringification:!0});var I=this.encapsulate(t,null,N);return Fe(I)?JSON.stringify(I[0],i,s):I.then(function(V){return JSON.stringify(V,i,s)})}},{key:"stringifySync",value:function(t,i,s,N){return this.stringify(t,i,s,O(O({throwOnBadSyncType:!0},N),{},{sync:!0}))}},{key:"stringifyAsync",value:function(t,i,s,N){return this.stringify(t,i,s,O(O({throwOnBadSyncType:!0},N),{},{sync:!1}))}},{key:"parse",value:function(t,i,s){return s=O(O(O({},this.options),s),{},{parse:!0}),this.revive(JSON.parse(t,i),s)}},{key:"parseSync",value:function(t,i,s){return this.parse(t,i,O(O({throwOnBadSyncType:!0},s),{},{sync:!0}))}},{key:"parseAsync",value:function(t,i,s){return this.parse(t,i,O(O({throwOnBadSyncType:!0},s),{},{sync:!1}))}},{key:"specialTypeNames",value:function(t,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return s.returnTypeNames=!0,this.encapsulate(t,i,s)}},{key:"rootTypeName",value:function(t,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return s.iterateNone=!0,this.encapsulate(t,i,s)}},{key:"encapsulate",value:function(t,i,s){var N=Re(function(L,C){return ie(Promise.all(C.map(function(q){return q[1].p})),function(q){return ie(Promise.all(q.map(Re(function(G){var ee=!1,de=[],Xe=F(C.splice(0,1),1),Ke=F(Xe[0],7),He=Ke[0],tt=Ke[2],Ae=Ke[3],nt=Ke[4],ke=Ke[5],Qe=Ke[6],Ye=oe(He,G,tt,Ae,de,!0,Qe),ot=r(Ye,T);return function(Ot,gt){var ht=Ot();return ht&&ht.then?ht.then(gt):gt(ht)}(function(){if(He&&ot)return ie(Ye.p,function(st){return nt[ke]=st,ee=!0,N(L,de)})},function(st){return ee?st:(He?nt[ke]=Ye:L=ot?Ye.p:Ye,N(L,de))})}))),function(){return L})})}),I=(s=O(O({sync:!0},this.options),s)).sync,V=this,j={},z=[],fe=[],ye=[],Oe=!("cyclic"in s)||s.cyclic,we=s.encapsulateObserver,me=oe("",t,Oe,i||{},ye);function Ce(L){var C=Object.values(j);if(s.iterateNone)return C.length?C[0]:n.getJSONType(L);if(C.length){if(s.returnTypeNames)return K(new Set(C));L&&w(L)&&!Le.call(L,"$types")?L.$types=j:L={$:L,$types:{$:j}}}else d(L)&&Le.call(L,"$types")&&(L={$:L,$types:!0});return!s.returnTypeNames&&L}function Be(L,C,q){Object.assign(L,C);var G=Ne.map(function(ee){var de=L[ee];return delete L[ee],de});q(),Ne.forEach(function(ee,de){L[ee]=G[de]})}function oe(L,C,q,G,ee,de,Xe){var Ke,He={},tt=c(C),Ae=we?function(ft){var qe=Xe||G.type||n.getJSONType(C);we(Object.assign(ft||He,{keypath:L,value:C,cyclic:q,stateObj:G,promisesData:ee,resolvingTypesonPromise:de,awaitingTypesonPromise:r(C,T)},{type:qe}))}:null;if(["string","boolean","number","undefined"].includes(tt))return C===void 0||Number.isNaN(C)||C===Number.NEGATIVE_INFINITY||C===Number.POSITIVE_INFINITY?(Ke=G.replaced?C:Ve(L,C,G,ee,!1,de,Ae))!==C&&(He={replaced:Ke}):Ke=C,Ae&&Ae(),Ke;if(C===null)return Ae&&Ae(),C;if(q&&!G.iterateIn&&!G.iterateUnsetNumeric&&C&&c(C)==="object"){var nt=z.indexOf(C);if(!(nt<0))return j[L]="#",Ae&&Ae({cyclicKeypath:fe[nt]}),"#"+fe[nt];q===!0&&(z.push(C),fe.push(L))}var ke,Qe=w(C),Ye=Fe(C),ot=(Qe||Ye)&&(!V.plainObjectReplacers.length||G.replaced)||G.iterateIn?C:Ve(L,C,G,ee,Qe||Ye,null,Ae);if(ot!==C?(Ke=ot,He={replaced:ot}):L===""&&r(C,T)?(ee.push([L,C,q,G,void 0,void 0,G.type]),Ke=C):Ye&&G.iterateIn!=="object"||G.iterateIn==="array"?(ke=new Array(C.length),He={clone:ke}):(["function","symbol"].includes(c(C))||"toJSON"in C||r(C,T)||r(C,Promise)||r(C,ArrayBuffer))&&!Qe&&G.iterateIn!=="object"?Ke=C:(ke={},G.addLength&&(ke.length=C.length),He={clone:ke}),Ae&&Ae(),s.iterateNone)return ke||Ke;if(!ke)return Ke;if(G.iterateIn){var st=function(qe){var lt={ownKeys:Le.call(C,qe)};Be(G,lt,function(){var dt=L+(L?".":"")+ue(qe),wt=oe(dt,C[qe],!!q,G,ee,de);r(wt,T)?ee.push([dt,wt,!!q,G,ke,qe,G.type]):wt!==void 0&&(ke[qe]=wt)})};for(var Ot in C)st(Ot);Ae&&Ae({endIterateIn:!0,end:!0})}else ae(C).forEach(function(ft){var qe=L+(L?".":"")+ue(ft);Be(G,{ownKeys:!0},function(){var lt=oe(qe,C[ft],!!q,G,ee,de);r(lt,T)?ee.push([qe,lt,!!q,G,ke,ft,G.type]):lt!==void 0&&(ke[ft]=lt)})}),Ae&&Ae({endIterateOwn:!0,end:!0});if(G.iterateUnsetNumeric){for(var gt=C.length,ht=function(qe){if(!(qe in C)){var lt=L+(L?".":"")+qe;Be(G,{ownKeys:!1},function(){var dt=oe(lt,void 0,!!q,G,ee,de);r(dt,T)?ee.push([lt,dt,!!q,G,ke,qe,G.type]):dt!==void 0&&(ke[qe]=dt)})}},At=0;At<gt;At++)ht(At);Ae&&Ae({endIterateUnsetNumeric:!0,end:!0})}return ke}function Ve(L,C,q,G,ee,de,Xe){for(var Ke=ee?V.plainObjectReplacers:V.nonplainObjectReplacers,He=Ke.length;He--;){var tt=Ke[He];if(tt.test(C,q)){var Ae=tt.type;if(V.revivers[Ae]){var nt=j[L];j[L]=nt?[Ae].concat(nt):Ae}return Object.assign(q,{type:Ae,replaced:!0}),!I&&tt.replaceAsync||tt.replace?(Xe&&Xe({replacing:!0}),oe(L,tt[I||!tt.replaceAsync?"replace":"replaceAsync"](C,q),Oe&&"readonly",q,G,de,Ae)):(Xe&&Xe({typeDetected:!0}),oe(L,C,Oe&&"readonly",q,G,de,Ae))}}return C}return ye.length?I&&s.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(N(me,ye)).then(Ce):!I&&s.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():s.stringification&&I?[Ce(me)]:I?Ce(me):Promise.resolve(Ce(me))}},{key:"encapsulateSync",value:function(t,i,s){return this.encapsulate(t,i,O(O({throwOnBadSyncType:!0},s),{},{sync:!0}))}},{key:"encapsulateAsync",value:function(t,i,s){return this.encapsulate(t,i,O(O({throwOnBadSyncType:!0},s),{},{sync:!1}))}},{key:"revive",value:function(t,i){var s=t&&t.$types;if(!s)return t;if(s===!0)return t.$;var N=(i=O(O({sync:!0},this.options),i)).sync,I=[],V={},j=!0;s.$&&w(s.$)&&(t=t.$,s=s.$,j=!1);var z=this;function fe(Ce,Be){var oe=F(z.revivers[Ce]||[],1)[0];if(!oe)throw new Error("Unregistered type: "+Ce);return N&&!("revive"in oe)?Be:oe[N&&oe.revive?"revive":!N&&oe.reviveAsync?"reviveAsync":"revive"](Be,V)}var ye=[];function Oe(Ce){return r(Ce,he)?void 0:Ce}var we,me=function(){var Be=[];if(Object.entries(s).forEach(function(oe){var Ve=F(oe,2),L=Ve[0],C=Ve[1];C!=="#"&&[].concat(C).forEach(function(q){F(z.revivers[q]||[null,{}],2)[1].plain&&(Be.push({keypath:L,type:q}),delete s[L])})}),Be.length)return Be.sort($e).reduce(function oe(Ve,L){var C=L.keypath,q=L.type;if(Se(Ve))return Ve.then(function(de){return oe(de,{keypath:C,type:q})});var G=W(t,C);if(r(G=fe(q,G),T))return G.then(function(de){var Xe=Z(t,C,de);Xe===de&&(t=Xe)});var ee=Z(t,C,G);ee===G&&(t=ee)},void 0)}();return r(me,T)?we=me.then(function(){return t}):(we=function Ce(Be,oe,Ve,L,C){if(!j||Be!=="$types"){var q=s[Be],G=Fe(oe);if(G||w(oe)){var ee=G?new Array(oe.length):{};for(ae(oe).forEach(function(ke){var Qe=Ce(Be+(Be?".":"")+ue(ke),oe[ke],Ve||ee,ee,ke),Ye=function(st){return r(st,he)?ee[ke]=void 0:st!==void 0&&(ee[ke]=st),st};r(Qe,T)?ye.push(Qe.then(function(ot){return Ye(ot)})):Ye(Qe)}),oe=ee;I.length;){var de=F(I[0],4),Xe=de[0],Ke=de[1],He=de[2],tt=de[3],Ae=W(Xe,Ke);if(Ae===void 0)break;He[tt]=Ae,I.splice(0,1)}}if(!q)return oe;if(q==="#"){var nt=W(Ve,oe.slice(1));return nt===void 0&&I.push([Ve,oe.slice(1),L,C]),nt}return[].concat(q).reduce(function ke(Qe,Ye){return r(Qe,T)?Qe.then(function(ot){return ke(ot,Ye)}):fe(Ye,Qe)},oe)}}("",t,null),ye.length&&(we=T.resolve(we).then(function(Ce){return T.all([Ce].concat(ye))}).then(function(Ce){return F(Ce,1)[0]}))),Se(we)?N&&i.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():r(we,T)?we.p.then(Oe):we:!N&&i.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():N?Oe(we):Promise.resolve(Oe(we))}},{key:"reviveSync",value:function(t,i){return this.revive(t,O(O({throwOnBadSyncType:!0},i),{},{sync:!0}))}},{key:"reviveAsync",value:function(t,i){return this.revive(t,O(O({throwOnBadSyncType:!0},i),{},{sync:!1}))}},{key:"register",value:function(t,i){return i=i||{},[].concat(t).forEach(function s(N){var I=this;if(Fe(N))return N.map(function(V){return s.call(I,V)});N&&ae(N).forEach(function(V){if(V==="#")throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(n.JSON_TYPES.includes(V))throw new TypeError("Plain JSON object types are reserved as type names");var j=N[V],z=j&&j.testPlainObjects?this.plainObjectReplacers:this.nonplainObjectReplacers,fe=z.filter(function(Be){return Be.type===V});if(fe.length&&(z.splice(z.indexOf(fe[0]),1),delete this.revivers[V],delete this.types[V]),typeof j=="function"){var ye=j;j={test:function(oe){return oe&&oe.constructor===ye},replace:function(oe){return O({},oe)},revive:function(oe){return Object.assign(Object.create(ye.prototype),oe)}}}else if(Fe(j)){var Oe=F(j,3);j={test:Oe[0],replace:Oe[1],revive:Oe[2]}}if(j&&j.test){var we={type:V,test:j.test.bind(j)};j.replace&&(we.replace=j.replace.bind(j)),j.replaceAsync&&(we.replaceAsync=j.replaceAsync.bind(j));var me=typeof i.fallback=="number"?i.fallback:i.fallback?0:Number.POSITIVE_INFINITY;if(j.testPlainObjects?this.plainObjectReplacers.splice(me,0,we):this.nonplainObjectReplacers.splice(me,0,we),j.revive||j.reviveAsync){var Ce={};j.revive&&(Ce.revive=j.revive.bind(j)),j.reviveAsync&&(Ce.reviveAsync=j.reviveAsync.bind(j)),this.revivers[V]=[Ce,{plain:j.testPlainObjects}]}this.types[V]=j}},this)},this),this}}]),n}(),he=function n(){A(this,n)};he.__typeson__type__="TypesonUndefined",$.Undefined=he,$.Promise=T,$.isThenable=Se,$.toStringTag=u,$.hasConstructorOf=r,$.isObject=d,$.isPlainObject=w,$.isUserObject=function n(e){if(!e||u(e)!=="Object")return!1;var t=Te(e);return!t||r(e,Object)||n(t)},$.escapeKeyPathComponent=ue,$.unescapeKeyPathComponent=se,$.getByKeyPath=W,$.getJSONType=function(e){return e===null?"null":Array.isArray(e)?"array":c(e)},$.JSON_TYPES=["null","boolean","number","string","array","object"];for(var je={userObject:{test:function(e,t){return $.isUserObject(e)},replace:function(e){return function(i){for(var s=1;s<arguments.length;s++){var N=arguments[s]!=null?arguments[s]:{};s%2?a(Object(N),!0).forEach(function(I){f(i,I,N[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(N)):a(Object(N)).forEach(function(I){Object.defineProperty(i,I,Object.getOwnPropertyDescriptor(N,I))})}return i}({},e)},revive:function(e){return e}}},h=[{arrayNonindexKeys:{testPlainObjects:!0,test:function(e,t){return!!Array.isArray(e)&&(Object.keys(e).some(function(i){return String(Number.parseInt(i))!==i})&&(t.iterateIn="object",t.addLength=!0),!0)},replace:function(e,t){return t.iterateUnsetNumeric=!0,e},revive:function(e){if(Array.isArray(e))return e;var t=[];return Object.keys(e).forEach(function(i){var s=e[i];t[i]=s}),t}}},{sparseUndefined:{test:function(e,t){return e===void 0&&t.ownKeys===!1},replace:function(e){return 0},revive:function(e){}}}],m={undef:{test:function(e,t){return e===void 0&&(t.ownKeys||!("ownKeys"in t))},replace:function(e){return 0},revive:function(e){return new $.Undefined}}},_={StringObject:{test:function(e){return $.toStringTag(e)==="String"&&o(e)==="object"},replace:function(e){return String(e)},revive:function(e){return new String(e)}},BooleanObject:{test:function(e){return $.toStringTag(e)==="Boolean"&&o(e)==="object"},replace:function(e){return!!e},revive:function(e){return new Boolean(e)}},NumberObject:{test:function(e){return $.toStringTag(e)==="Number"&&o(e)==="object"},replace:function(e){return Number(e)},revive:function(e){return new Number(e)}}},E=[{nan:{test:function(e){return Number.isNaN(e)},replace:function(e){return"NaN"},revive:function(e){return Number.NaN}}},{infinity:{test:function(e){return e===Number.POSITIVE_INFINITY},replace:function(e){return"Infinity"},revive:function(e){return Number.POSITIVE_INFINITY}}},{negativeInfinity:{test:function(e){return e===Number.NEGATIVE_INFINITY},replace:function(e){return"-Infinity"},revive:function(e){return Number.NEGATIVE_INFINITY}}}],P={date:{test:function(e){return $.toStringTag(e)==="Date"},replace:function(e){var t=e.getTime();return Number.isNaN(t)?"NaN":t},revive:function(e){return e==="NaN"?new Date(Number.NaN):new Date(e)}}},D={regexp:{test:function(e){return $.toStringTag(e)==="RegExp"},replace:function(e){return{source:e.source,flags:(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.sticky?"y":"")+(e.unicode?"u":"")}},revive:function(e){var t=e.source,i=e.flags;return new RegExp(t,i)}}},ve={map:{test:function(e){return $.toStringTag(e)==="Map"},replace:function(e){return S(e.entries())},revive:function(e){return new Map(e)}}},J={set:{test:function(e){return $.toStringTag(e)==="Set"},replace:function(e){return S(e.values())},revive:function(e){return new Set(e)}}},b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ne=new Uint8Array(256),le=0;le<b.length;le++)ne[b.charCodeAt(le)]=le;var De=function(e,t,i){i==null&&(i=e.byteLength);for(var s=new Uint8Array(e,t||0,i),N=s.length,I="",V=0;V<N;V+=3)I+=b[s[V]>>2],I+=b[(3&s[V])<<4|s[V+1]>>4],I+=b[(15&s[V+1])<<2|s[V+2]>>6],I+=b[63&s[V+2]];return N%3==2?I=I.slice(0,-1)+"=":N%3==1&&(I=I.slice(0,-2)+"=="),I},ze=function(e){var t,i,s,N,I=e.length,V=.75*e.length,j=0;e[e.length-1]==="="&&(V--,e[e.length-2]==="="&&V--);for(var z=new ArrayBuffer(V),fe=new Uint8Array(z),ye=0;ye<I;ye+=4)t=ne[e.charCodeAt(ye)],i=ne[e.charCodeAt(ye+1)],s=ne[e.charCodeAt(ye+2)],N=ne[e.charCodeAt(ye+3)],fe[j++]=t<<2|i>>4,fe[j++]=(15&i)<<4|s>>2,fe[j++]=(3&s)<<6|63&N;return z},Je={arraybuffer:{test:function(e){return $.toStringTag(e)==="ArrayBuffer"},replace:function(e,t){t.buffers||(t.buffers=[]);var i=t.buffers.indexOf(e);return i>-1?{index:i}:(t.buffers.push(e),De(e))},revive:function(e,t){if(t.buffers||(t.buffers=[]),o(e)==="object")return t.buffers[e.index];var i=ze(e);return t.buffers.push(i),i}}},et=typeof self>"u"?Ct:self,Me={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach(function(n){var e=n,t=et[e];t&&(Me[n.toLowerCase()]={test:function(s){return $.toStringTag(s)===e},replace:function(s,N){var I=s.buffer,V=s.byteOffset,j=s.length;N.buffers||(N.buffers=[]);var z=N.buffers.indexOf(I);return z>-1?{index:z,byteOffset:V,length:j}:(N.buffers.push(I),{encoded:De(I),byteOffset:V,length:j})},revive:function(s,N){N.buffers||(N.buffers=[]);var I,V=s.byteOffset,j=s.length,z=s.encoded,fe=s.index;return"index"in s?I=N.buffers[fe]:(I=ze(z),N.buffers.push(I)),new t(I,V,j)}})});var Ge={dataview:{test:function(e){return $.toStringTag(e)==="DataView"},replace:function(e,t){var i=e.buffer,s=e.byteOffset,N=e.byteLength;t.buffers||(t.buffers=[]);var I=t.buffers.indexOf(i);return I>-1?{index:I,byteOffset:s,byteLength:N}:(t.buffers.push(i),{encoded:De(i),byteOffset:s,byteLength:N})},revive:function(e,t){t.buffers||(t.buffers=[]);var i,s=e.byteOffset,N=e.byteLength,I=e.encoded,V=e.index;return"index"in e?i=t.buffers[V]:(i=ze(I),t.buffers.push(i)),new DataView(i,s,N)}}},Pe={IntlCollator:{test:function(e){return $.hasConstructorOf(e,Intl.Collator)},replace:function(e){return e.resolvedOptions()},revive:function(e){return new Intl.Collator(e.locale,e)}},IntlDateTimeFormat:{test:function(e){return $.hasConstructorOf(e,Intl.DateTimeFormat)},replace:function(e){return e.resolvedOptions()},revive:function(e){return new Intl.DateTimeFormat(e.locale,e)}},IntlNumberFormat:{test:function(e){return $.hasConstructorOf(e,Intl.NumberFormat)},replace:function(e){return e.resolvedOptions()},revive:function(e){return new Intl.NumberFormat(e.locale,e)}}};function _e(n){for(var e=new Uint8Array(n.length),t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e.buffer}var be={file:{test:function(e){return $.toStringTag(e)==="File"},replace:function(e){var t=new XMLHttpRequest;if(t.overrideMimeType("text/plain; charset=x-user-defined"),t.open("GET",URL.createObjectURL(e),!1),t.send(),t.status!==200&&t.status!==0)throw new Error("Bad File access: "+t.status);return{type:e.type,stringContents:t.responseText,name:e.name,lastModified:e.lastModified}},revive:function(e){var t=e.name,i=e.type,s=e.stringContents,N=e.lastModified;return new File([_e(s)],t,{type:i,lastModified:N})},replaceAsync:function(e){return new $.Promise(function(t,i){var s=new FileReader;s.addEventListener("load",function(){t({type:e.type,stringContents:s.result,name:e.name,lastModified:e.lastModified})}),s.addEventListener("error",function(){i(s.error)}),s.readAsBinaryString(e)})}}},Ee={bigint:{test:function(e){return typeof e=="bigint"},replace:function(e){return String(e)},revive:function(e){return BigInt(e)}}},Ie={bigintObject:{test:function(e){return o(e)==="object"&&$.hasConstructorOf(e,BigInt)},replace:function(e){return String(e)},revive:function(e){return new Object(BigInt(e))}}},x={cryptokey:{test:function(e){return $.toStringTag(e)==="CryptoKey"&&e.extractable},replaceAsync:function(e){return new $.Promise(function(t,i){crypto.subtle.exportKey("jwk",e).catch(function(s){i(s)}).then(function(s){t({jwk:s,algorithm:e.algorithm,usages:e.usages})})})},revive:function(e){var t=e.jwk,i=e.algorithm,s=e.usages;return crypto.subtle.importKey("jwk",t,i,!0,s)}}};return[je,m,h,_,E,P,D,{imagedata:{test:function(e){return $.toStringTag(e)==="ImageData"},replace:function(e){return{array:S(e.data),width:e.width,height:e.height}},revive:function(e){return new ImageData(new Uint8ClampedArray(e.array),e.width,e.height)}}},{imagebitmap:{test:function(e){return $.toStringTag(e)==="ImageBitmap"||e&&e.dataset&&e.dataset.toStringTag==="ImageBitmap"},replace:function(e){var t=document.createElement("canvas");return t.getContext("2d").drawImage(e,0,0),t.toDataURL()},revive:function(e){var t=document.createElement("canvas"),i=t.getContext("2d"),s=document.createElement("img");return s.addEventListener("load",function(){i.drawImage(s,0,0)}),s.src=e,t},reviveAsync:function(e){var t=document.createElement("canvas"),i=t.getContext("2d"),s=document.createElement("img");return s.addEventListener("load",function(){i.drawImage(s,0,0)}),s.src=e,createImageBitmap(t)}}},be,{file:be.file,filelist:{test:function(e){return $.toStringTag(e)==="FileList"},replace:function(e){for(var t=[],i=0;i<e.length;i++)t[i]=e.item(i);return t},revive:function(e){return new(function(){function t(){y(this,t),this._files=arguments[0],this.length=this._files.length}return function(s,N,I){return N&&v(s.prototype,N),I&&v(s,I),s}(t,[{key:"item",value:function(s){return this._files[s]}},{key:Symbol.toStringTag,get:function(){return"FileList"}}]),t}())(e)}}},{blob:{test:function(e){return $.toStringTag(e)==="Blob"},replace:function(e){var t=new XMLHttpRequest;if(t.overrideMimeType("text/plain; charset=x-user-defined"),t.open("GET",URL.createObjectURL(e),!1),t.send(),t.status!==200&&t.status!==0)throw new Error("Bad Blob access: "+t.status);return{type:e.type,stringContents:t.responseText}},revive:function(e){var t=e.type,i=e.stringContents;return new Blob([_e(i)],{type:t})},replaceAsync:function(e){return new $.Promise(function(t,i){var s=new FileReader;s.addEventListener("load",function(){t({type:e.type,stringContents:s.result})}),s.addEventListener("error",function(){i(s.error)}),s.readAsBinaryString(e)})}}}].concat(typeof Map=="function"?ve:[],typeof Set=="function"?J:[],typeof ArrayBuffer=="function"?Je:[],typeof Uint8Array=="function"?Me:[],typeof DataView=="function"?Ge:[],typeof Intl<"u"?Pe:[],typeof crypto<"u"?x:[],typeof BigInt<"u"?[Ee,Ie]:[])})}),bt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mt=new Uint8Array(256);for(var _t=0;_t<bt.length;_t++)mt[bt.codePointAt(_t)]=_t;var Bt=function(l,o,y){y==null&&(y=l.byteLength);for(var v=new Uint8Array(l,o||0,y),f=v.length,a="",S=0;S<f;S+=3)a+=bt[v[S]>>2],a+=bt[(v[S]&3)<<4|v[S+1]>>4],a+=bt[(v[S+1]&15)<<2|v[S+2]>>6],a+=bt[v[S+2]&63];return f%3===2?a=a.slice(0,-1)+"=":f%3===1&&(a=a.slice(0,-2)+"=="),a},Qt=function(l){var o=l.length,y=l.length*.75,v=0,f,a,S,g;l[l.length-1]==="="&&(y--,l[l.length-2]==="="&&y--);for(var c=new ArrayBuffer(y),A=new Uint8Array(c),U=0;U<o;U+=4)f=mt[l.codePointAt(U)],a=mt[l.codePointAt(U+1)],S=mt[l.codePointAt(U+2)],g=mt[l.codePointAt(U+3)],A[v++]=f<<2|a>>4,A[v++]=(a&15)<<4|S>>2,A[v++]=(S&3)<<6|g&63;return c},In=typeof self>"u"?global:self,Zt={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach(function(p){var l=p,o=In[l];o&&(Zt[p.toLowerCase()+"2"]={test:function(y){return St.toStringTag(y)===l},replace:function(y){var v=y.buffer,f=y.byteOffset,a=y.length;return{buffer:v,byteOffset:f,length:a}},revive:function(y){var v=y.buffer,f=y.byteOffset,a=y.length;return new o(v,f,a)}})});var Cn={arraybuffer:{test:function(p){return St.toStringTag(p)==="ArrayBuffer"},replace:function(p){return Bt(p,0,p.byteLength)},revive:function(p){var l=Qt(p);return l}}},rt=new St().register(Pn),Bn="FileReaderSync"in self,Et=[],Nt=0;rt.register([Cn,Zt,{blob2:{test:function(p){return St.toStringTag(p)==="Blob"},replace:function(p){if(p.isClosed)throw new Error("The Blob is closed");if(Bn){var l=Xt(p,"binary"),o=Bt(l,0,l.byteLength);return{type:p.type,data:o}}else{Et.push(p);var y={type:p.type,data:{start:Nt,end:Nt+p.size}};return Nt+=p.size,y}},finalize:function(p,l){p.data=Bt(l,0,l.byteLength)},revive:function(p){var l=p.type,o=p.data;return new Blob([Qt(o)],{type:l})}}}]);rt.mustFinalize=function(){return Et.length>0};rt.finalize=function(p){return yt(void 0,void 0,void 0,function(){var l,o,y,v,f,a,S,g,c,A;return ct(this,function(U){switch(U.label){case 0:return[4,Wt(new Blob(Et),"binary")];case 1:if(l=U.sent(),p){for(o=0,y=p;o<y.length;o++)if(v=y[o],v.$types){f=v.$types,a=f.$,a&&(f=f.$);for(S in f)g=f[S],c=rt.types[g],c&&c.finalize&&(A=We.getByKeyPath(v,a?"$."+S:S),c.finalize(A,l.slice(A.start,A.end)))}}return Et=[],[2]}})})};var kn=2e3;function jn(p,l){return yt(this,void 0,void 0,function(){function o(){return yt(this,void 0,void 0,function(){var c,A,U,M,B,O,F,K,re;return ct(this,function(pe){switch(pe.label){case 0:return[4,Promise.all(p.tables.map(function(T){return T.count()}))];case 1:c=pe.sent(),c.forEach(function(T,ce){return v[ce].rowCount=T}),g.totalRows=c.reduce(function(T,ce){return T+ce}),A=JSON.stringify(a,void 0,f?2:void 0),U=A.lastIndexOf("]"),M=A.substring(0,U),y.push(M),B=l.filter,O=function(T){var ce,H,Te,ge,Se,u,r,w,d,ue,se,W;return ct(this,function(Z){switch(Z.label){case 0:ce=p.table(T),H=ce.schema.primKey,Te=!!H.keyPath,ge=l.numRowsPerChunk||kn,Se=Te?{tableName:ce.name,inbound:!0,rows:[]}:{tableName:ce.name,inbound:!1,rows:[]},u=JSON.stringify(Se,void 0,f?2:void 0),f&&(u=u.split(`
`).join(`
    `)),r=u.lastIndexOf("]"),y.push(u.substring(0,r)),w=null,d=0,ue=!0,se=function(){var ie,ae,Fe,Le,$,Ne,Re,$e,$;return ct(this,function(he){switch(he.label){case 0:return S&&We.ignoreTransaction(function(){return S(g)}),ie=w==null?ce.limit(ge):ce.where(":id").above(w).limit(ge),[4,ie.toArray()];case 1:return ae=he.sent(),ae.length===0?[2,"break"]:(w!=null&&d>0&&(y.push(","),f&&y.push(`
      `)),ue=ae.length===ge,Te?(Fe=B?ae.filter(function(je){return B(T,je)}):ae,Le=Fe.map(function(je){return rt.encapsulate(je)}),rt.mustFinalize()?[4,We.waitFor(rt.finalize(Le))]:[3,3]):[3,4]);case 2:he.sent(),he.label=3;case 3:return $=JSON.stringify(Le,void 0,f?2:void 0),f&&($=$.split(`
`).join(`
      `)),y.push(new Blob([$.substring(1,$.length-1)])),d=Fe.length,w=ae.length>0?We.getByKeyPath(ae[ae.length-1],H.keyPath):null,[3,8];case 4:return[4,ie.primaryKeys()];case 5:return Ne=he.sent(),Re=Ne.map(function(je,h){return[je,ae[h]]}),B&&(Re=Re.filter(function(je){var h=je[0],m=je[1];return B(T,m,h)})),$e=Re.map(function(je){return rt.encapsulate(je)}),rt.mustFinalize()?[4,We.waitFor(rt.finalize($e))]:[3,7];case 6:he.sent(),he.label=7;case 7:$=JSON.stringify($e,void 0,f?2:void 0),f&&($=$.split(`
`).join(`
      `)),y.push(new Blob([$.substring(1,$.length-1)])),d=Re.length,w=Ne.length>0?Ne[Ne.length-1]:null,he.label=8;case 8:return g.completedRows+=ae.length,[2]}})},Z.label=1;case 1:return ue?[5,se()]:[3,3];case 2:return W=Z.sent(),W==="break"?[3,3]:[3,1];case 3:return y.push(u.substr(r)),g.completedTables+=1,g.completedTables<g.totalTables&&y.push(","),[2]}})},F=0,K=v,pe.label=2;case 2:return F<K.length?(re=K[F].name,[5,O(re)]):[3,5];case 3:pe.sent(),pe.label=4;case 4:return F++,[3,2];case 5:return y.push(A.substr(U)),g.done=!0,S&&We.ignoreTransaction(function(){return S(g)}),[2]}})})}var y,v,f,a,S,g;return ct(this,function(c){switch(c.label){case 0:l=l||{},y=[],v=p.tables.map(function(A){return{name:A.name,schema:Tn(A),rowCount:0}}),f=l.prettyJson,a={formatName:"dexie",formatVersion:1,data:{databaseName:p.name,databaseVersion:p.verno,tables:v,data:[]}},S=l.progressCallback,g={done:!1,completedRows:0,completedTables:0,totalRows:NaN,totalTables:p.tables.length},c.label=1;case 1:return c.trys.push([1,,6,7]),l.noTransaction?[4,o()]:[3,3];case 2:return c.sent(),[3,5];case 3:return[4,p.transaction("r",p.tables,o)];case 4:c.sent(),c.label=5;case 5:return[3,7];case 6:return rt.finalize(),[7];case 7:return[2,new Blob(y,{type:"text/json"})]}})})}var Un=1,xn={Stream:function(){}},Ln=jt(function(p,l){(function(o){var y=typeof process=="object"&&process.env?process.env:self;o.parser=function(u){return new B(u)},o.CParser=B,o.CStream=F,o.createStream=O,o.MAX_BUFFER_LENGTH=10*1024*1024,o.DEBUG=y.CDEBUG==="debug",o.INFO=y.CDEBUG==="debug"||y.CDEBUG==="info",o.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var v={textNode:void 0,numberNode:""},f=o.EVENTS.filter(function(u){return u!=="error"&&u!=="end"}),a=0,S;o.STATE={BEGIN:a++,VALUE:a++,OPEN_OBJECT:a++,CLOSE_OBJECT:a++,OPEN_ARRAY:a++,CLOSE_ARRAY:a++,TEXT_ESCAPE:a++,STRING:a++,BACKSLASH:a++,END:a++,OPEN_KEY:a++,CLOSE_KEY:a++,TRUE:a++,TRUE2:a++,TRUE3:a++,FALSE:a++,FALSE2:a++,FALSE3:a++,FALSE4:a++,NULL:a++,NULL2:a++,NULL3:a++,NUMBER_DECIMAL_POINT:a++,NUMBER_DIGIT:a++};for(var g in o.STATE)o.STATE[o.STATE[g]]=g;a=o.STATE;const c={tab:9,lineFeed:10,carriageReturn:13,space:32,doubleQuote:34,plus:43,comma:44,minus:45,period:46,_0:48,_9:57,colon:58,E:69,openBracket:91,backslash:92,closeBracket:93,a:97,b:98,e:101,f:102,l:108,n:110,r:114,s:115,t:116,u:117,openBrace:123,closeBrace:125};Object.create||(Object.create=function(u){function r(){this.__proto__=u}return r.prototype=u,new r}),Object.getPrototypeOf||(Object.getPrototypeOf=function(u){return u.__proto__}),Object.keys||(Object.keys=function(u){var r=[];for(var w in u)u.hasOwnProperty(w)&&r.push(w);return r});function A(u){var r=Math.max(o.MAX_BUFFER_LENGTH,10),w=0;for(var d in v){var ue=u[d]===void 0?0:u[d].length;if(ue>r)switch(d){case"text":closeText(u);break;default:H(u,"Max buffer length exceeded: "+d)}w=Math.max(w,ue)}u.bufferCheckPosition=o.MAX_BUFFER_LENGTH-w+u.position}function U(u){for(var r in v)u[r]=v[r]}var M=/[\\"\n]/g;function B(u){if(!(this instanceof B))return new B(u);var r=this;U(r),r.bufferCheckPosition=o.MAX_BUFFER_LENGTH,r.q=r.c=r.p="",r.opt=u||{},r.closed=r.closedRoot=r.sawRoot=!1,r.tag=r.error=null,r.state=a.BEGIN,r.stack=new Array,r.position=r.column=0,r.line=1,r.slashed=!1,r.unicodeI=0,r.unicodeS=null,r.depth=0,K(r,"onready")}B.prototype={end:function(){Te(this)},write:Se,resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{S=xn.Stream}catch{S=function(){}}function O(u){return new F(u)}function F(u){if(!(this instanceof F))return new F(u);this._parser=new B(u),this.writable=!0,this.readable=!0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.string="";var r=this;S.apply(r),this._parser.onend=function(){r.emit("end")},this._parser.onerror=function(w){r.emit("error",w),r._parser.error=null},f.forEach(function(w){Object.defineProperty(r,"on"+w,{get:function(){return r._parser["on"+w]},set:function(d){if(!d)return r.removeAllListeners(w),r._parser["on"+w]=d,d;r.on(w,d)},enumerable:!0,configurable:!1})})}F.prototype=Object.create(S.prototype,{constructor:{value:F}}),F.prototype.write=function(u){u=new Buffer(u);for(var r=0;r<u.length;r++){var w=u[r];if(this.bytes_remaining>0){for(var d=0;d<this.bytes_remaining;d++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+d]=u[d];this.string=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,r=r+d-1,this._parser.write(this.string),this.emit("data",this.string);continue}if(this.bytes_remaining===0&&w>=128)if(w>=194&&w<=223&&(this.bytes_in_sequence=2),w>=224&&w<=239&&(this.bytes_in_sequence=3),w>=240&&w<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+r>u.length){for(var ue=0;ue<=u.length-1-r;ue++)this.temp_buffs[this.bytes_in_sequence][ue]=u[r+ue];return this.bytes_remaining=r+this.bytes_in_sequence-u.length,!0}else{this.string=u.slice(r,r+this.bytes_in_sequence).toString(),r=r+this.bytes_in_sequence-1,this._parser.write(this.string),this.emit("data",this.string);continue}for(var se=r;se<u.length&&!(u[se]>=128);se++);this.string=u.slice(r,se).toString(),this._parser.write(this.string),this.emit("data",this.string),r=se-1}},F.prototype.end=function(u){return u&&u.length&&this._parser.write(u.toString()),this._parser.end(),!0},F.prototype.on=function(u,r){var w=this;return!w._parser["on"+u]&&f.indexOf(u)!==-1&&(w._parser["on"+u]=function(){var d=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);d.splice(0,0,u),w.emit.apply(w,d)}),S.prototype.on.call(w,u,r)},F.prototype.destroy=function(){U(this._parser),this.emit("close")};function K(u,r,w){o.INFO&&console.log("-- emit",r,w),u[r]&&u[r](w)}function re(u,r,w){pe(u),K(u,r,w)}function pe(u,r){u.textNode=ce(u.opt,u.textNode),u.textNode!==void 0&&K(u,r||"onvalue",u.textNode),u.textNode=void 0}function T(u){u.numberNode&&K(u,"onvalue",parseFloat(u.numberNode)),u.numberNode=""}function ce(u,r){return r===void 0||(u.trim&&(r=r.trim()),u.normalize&&(r=r.replace(/\s+/g," "))),r}function H(u,r){return pe(u),r+=`
Line: `+u.line+`
Column: `+u.column+`
Char: `+u.c,r=new Error(r),u.error=r,K(u,"onerror",r),u}function Te(u){return(u.state!==a.VALUE||u.depth!==0)&&H(u,"Unexpected end"),pe(u),u.c="",u.closed=!0,K(u,"onend"),B.call(u,u.opt),u}function ge(u){return u===c.carriageReturn||u===c.lineFeed||u===c.space||u===c.tab}function Se(u){var r=this;if(this.error)throw this.error;if(r.closed)return H(r,"Cannot write after close. Assign an onready handler.");if(u===null)return Te(r);var w=0,d=u.charCodeAt(0),ue=r.p;for(o.DEBUG&&console.log("write -> ["+u+"]");d&&(ue=d,r.c=d=u.charCodeAt(w++),ue!==d?r.p=ue:ue=r.p,!!d);)switch(o.DEBUG&&console.log(w,d,o.STATE[r.state]),r.position++,d===c.lineFeed?(r.line++,r.column=0):r.column++,r.state){case a.BEGIN:d===c.openBrace?r.state=a.OPEN_OBJECT:d===c.openBracket?r.state=a.OPEN_ARRAY:ge(d)||H(r,"Non-whitespace before {[.");continue;case a.OPEN_KEY:case a.OPEN_OBJECT:if(ge(d))continue;if(r.state===a.OPEN_KEY)r.stack.push(a.CLOSE_KEY);else if(d===c.closeBrace){K(r,"onopenobject"),this.depth++,K(r,"oncloseobject"),this.depth--,r.state=r.stack.pop()||a.VALUE;continue}else r.stack.push(a.CLOSE_OBJECT);d===c.doubleQuote?r.state=a.STRING:H(r,'Malformed object key should start with "');continue;case a.CLOSE_KEY:case a.CLOSE_OBJECT:if(ge(d))continue;r.state,a.CLOSE_KEY,d===c.colon?(r.state===a.CLOSE_OBJECT?(r.stack.push(a.CLOSE_OBJECT),pe(r,"onopenobject"),this.depth++):pe(r,"onkey"),r.state=a.VALUE):d===c.closeBrace?(re(r,"oncloseobject"),this.depth--,r.state=r.stack.pop()||a.VALUE):d===c.comma?(r.state===a.CLOSE_OBJECT&&r.stack.push(a.CLOSE_OBJECT),pe(r),r.state=a.OPEN_KEY):H(r,"Bad object");continue;case a.OPEN_ARRAY:case a.VALUE:if(ge(d))continue;if(r.state===a.OPEN_ARRAY)if(K(r,"onopenarray"),this.depth++,r.state=a.VALUE,d===c.closeBracket){K(r,"onclosearray"),this.depth--,r.state=r.stack.pop()||a.VALUE;continue}else r.stack.push(a.CLOSE_ARRAY);d===c.doubleQuote?r.state=a.STRING:d===c.openBrace?r.state=a.OPEN_OBJECT:d===c.openBracket?r.state=a.OPEN_ARRAY:d===c.t?r.state=a.TRUE:d===c.f?r.state=a.FALSE:d===c.n?r.state=a.NULL:d===c.minus?r.numberNode+="-":c._0<=d&&d<=c._9?(r.numberNode+=String.fromCharCode(d),r.state=a.NUMBER_DIGIT):H(r,"Bad value");continue;case a.CLOSE_ARRAY:if(d===c.comma)r.stack.push(a.CLOSE_ARRAY),pe(r,"onvalue"),r.state=a.VALUE;else if(d===c.closeBracket)re(r,"onclosearray"),this.depth--,r.state=r.stack.pop()||a.VALUE;else{if(ge(d))continue;H(r,"Bad array")}continue;case a.STRING:r.textNode===void 0&&(r.textNode="");var se=w-1,W=r.slashed,Z=r.unicodeI;e:for(;;){for(o.DEBUG&&console.log(w,d,o.STATE[r.state],W);Z>0;)if(r.unicodeS+=String.fromCharCode(d),d=u.charCodeAt(w++),r.position++,Z===4?(r.textNode+=String.fromCharCode(parseInt(r.unicodeS,16)),Z=0,se=w-1):Z++,!d)break e;if(d===c.doubleQuote&&!W){r.state=r.stack.pop()||a.VALUE,r.textNode+=u.substring(se,w-1),r.position+=w-1-se;break}if(d===c.backslash&&!W&&(W=!0,r.textNode+=u.substring(se,w-1),r.position+=w-1-se,d=u.charCodeAt(w++),r.position++,!d))break;if(W){if(W=!1,d===c.n?r.textNode+=`
`:d===c.r?r.textNode+="\r":d===c.t?r.textNode+="	":d===c.f?r.textNode+="\f":d===c.b?r.textNode+="\b":d===c.u?(Z=1,r.unicodeS=""):r.textNode+=String.fromCharCode(d),d=u.charCodeAt(w++),r.position++,se=w-1,d)continue;break}M.lastIndex=w;var ie=M.exec(u);if(ie===null){w=u.length+1,r.textNode+=u.substring(se,w-1),r.position+=w-1-se;break}if(w=ie.index+1,d=u.charCodeAt(ie.index),!d){r.textNode+=u.substring(se,w-1),r.position+=w-1-se;break}}r.slashed=W,r.unicodeI=Z;continue;case a.TRUE:d===c.r?r.state=a.TRUE2:H(r,"Invalid true started with t"+d);continue;case a.TRUE2:d===c.u?r.state=a.TRUE3:H(r,"Invalid true started with tr"+d);continue;case a.TRUE3:d===c.e?(K(r,"onvalue",!0),r.state=r.stack.pop()||a.VALUE):H(r,"Invalid true started with tru"+d);continue;case a.FALSE:d===c.a?r.state=a.FALSE2:H(r,"Invalid false started with f"+d);continue;case a.FALSE2:d===c.l?r.state=a.FALSE3:H(r,"Invalid false started with fa"+d);continue;case a.FALSE3:d===c.s?r.state=a.FALSE4:H(r,"Invalid false started with fal"+d);continue;case a.FALSE4:d===c.e?(K(r,"onvalue",!1),r.state=r.stack.pop()||a.VALUE):H(r,"Invalid false started with fals"+d);continue;case a.NULL:d===c.u?r.state=a.NULL2:H(r,"Invalid null started with n"+d);continue;case a.NULL2:d===c.l?r.state=a.NULL3:H(r,"Invalid null started with nu"+d);continue;case a.NULL3:d===c.l?(K(r,"onvalue",null),r.state=r.stack.pop()||a.VALUE):H(r,"Invalid null started with nul"+d);continue;case a.NUMBER_DECIMAL_POINT:d===c.period?(r.numberNode+=".",r.state=a.NUMBER_DIGIT):H(r,"Leading zero not followed by .");continue;case a.NUMBER_DIGIT:c._0<=d&&d<=c._9?r.numberNode+=String.fromCharCode(d):d===c.period?(r.numberNode.indexOf(".")!==-1&&H(r,"Invalid number has two dots"),r.numberNode+="."):d===c.e||d===c.E?((r.numberNode.indexOf("e")!==-1||r.numberNode.indexOf("E")!==-1)&&H(r,"Invalid number has two exponential"),r.numberNode+="e"):d===c.plus||d===c.minus?(ue===c.e||ue===c.E||H(r,"Invalid symbol in number"),r.numberNode+=String.fromCharCode(d)):(T(r),w--,r.state=r.stack.pop()||a.VALUE);continue;default:H(r,"Unknown state: "+r.state)}return r.position>=r.bufferCheckPosition&&A(r),r}})(l)});function Rn(p){var l=0,o=Fn(!0),y={pullAsync:function(v){return yt(this,void 0,void 0,function(){var f,a,S;return ct(this,function(g){switch(g.label){case 0:return f=p.slice(l,l+v),l+=v,[4,Wt(f,"text")];case 1:return a=g.sent(),S=o.write(a),y.result=S||{},[2,S]}})})},pullSync:function(v){var f=p.slice(l,l+v);l+=v;var a=Xt(f,"text"),S=o.write(a);return y.result=S||{},S},done:function(){return o.done()},eof:function(){return l>=p.size},result:{}};return y}function Fn(p){var l=Ln.parser(),o=0,y,v=[],f,a,S=!1,g=!1;return l.onopenobject=function(c){var A={};A.incomplete=!0,y||(y=A),f&&(v.push([a,f,g]),p&&(g?f.push(A):f[a]=A)),f=A,a=c,g=!1,++o},l.onkey=function(c){return a=c},l.onvalue=function(c){return g?f.push(c):f[a]=c},l.oncloseobject=function(){var c;if(delete f.incomplete,a=null,--o===0)S=!0;else{var A=f;c=v.pop(),a=c[0],f=c[1],g=c[2],p||(g?f.push(A):f[a]=A)}},l.onopenarray=function(){var c=[];c.incomplete=!0,y||(y=c),f&&(v.push([a,f,g]),p&&(g?f.push(c):f[a]=c)),f=c,g=!0,a=null,++o},l.onclosearray=function(){var c;if(delete f.incomplete,a=null,--o===0)S=!0;else{var A=f;c=v.pop(),a=c[0],f=c[1],g=c[2],p||(g?f.push(A):f[a]=A)}},{write:function(c){return l.write(c),y},done:function(){return S}}}var en=1024;function Dn(p,l){return yt(this,void 0,void 0,function(){var o,y,v,f;return ct(this,function(a){switch(a.label){case 0:return l=l||{},o=l.chunkSizeBytes||en*1024,[4,nn(p,o)];case 1:return y=a.sent(),v=y.result.data,f=new We(v.databaseName),f.version(v.databaseVersion).stores(Nn(v)),[4,tn(f,y,l)];case 2:return a.sent(),[2,f]}})})}function tn(p,l,o){return yt(this,void 0,void 0,function(){function y(){return yt(this,void 0,void 0,function(){var O,F,K,re,pe;return ct(this,function(T){switch(T.label){case 0:O=function(ce){var H,Te,ge,Se,u,r,w,d,ue,se,W,Z;return ct(this,function(ie){switch(ie.label){case 0:if(!ce.rows)return[2,"break"];if(!ce.rows.incomplete&&ce.rows.length===0)return[2,"continue"];if(c&&We.ignoreTransaction(function(){return c(A)}),H=ce.tableName,Te=p.table(H),ge=g.tables.filter(function(ae){return ae.name===H})[0].schema,!Te){if(o.acceptMissingTables)return[2,"continue"];throw new Error("Exported table ".concat(ce.tableName," is missing in installed database"))}if(!o.acceptChangedPrimaryKey&&ge.split(",")[0]!=Te.schema.primKey.src)throw new Error("Primary key differs for table ".concat(ce.tableName,". "));for(Se=ce.rows,u=[],r=0;r<Se.length&&(w=Se[r],!w.incomplete);r++)u.push(rt.revive(w));return d=o.filter,ue=d?ce.inbound?u.filter(function(ae){return d(H,ae)}):u.filter(function(ae){var Fe=ae[0],Le=ae[1];return d(H,Le,Fe)}):u,se=ce.inbound?[void 0,ue]:[ue.map(function(ae){return ae[0]}),u.map(function(ae){return ae[1]})],W=se[0],Z=se[1],o.overwriteValues?[4,Te.bulkPut(Z,W)]:[3,2];case 1:return ie.sent(),[3,4];case 2:return[4,Te.bulkAdd(Z,W)];case 3:ie.sent(),ie.label=4;case 4:return A.completedRows+=u.length,u.incomplete||(A.completedTables+=1),Se.splice(0,u.length),[2]}})},F=0,K=g.data,T.label=1;case 1:return F<K.length?(re=K[F],[5,O(re)]):[3,4];case 2:if(pe=T.sent(),pe==="break")return[3,4];T.label=3;case 3:return F++,[3,1];case 4:for(;g.data.length>0&&g.data[0].rows&&!g.data[0].rows.incomplete;)g.data.splice(0,1);return!f.done()&&!f.eof()?S?(f.pullSync(v),[3,7]):[3,5]:[3,8];case 5:return[4,We.waitFor(f.pullAsync(v))];case 6:T.sent(),T.label=7;case 7:return[3,9];case 8:return[3,10];case 9:return[3,0];case 10:return[2]}})})}var v,f,a,S,g,c,A,U,M,B;return ct(this,function(O){switch(O.label){case 0:return o=o||{},v=o.chunkSizeBytes||en*1024,[4,nn(l,v)];case 1:if(f=O.sent(),a=f.result,S="FileReaderSync"in self,g=a.data,!o.acceptNameDiff&&p.name!==g.databaseName)throw new Error("Name differs. Current database name is ".concat(p.name," but export is ").concat(g.databaseName));if(!o.acceptVersionDiff&&p.verno!==g.databaseVersion)throw new Error("Database version differs. Current database is in version ".concat(p.verno," but export is ").concat(g.databaseVersion));if(c=o.progressCallback,A={done:!1,completedRows:0,completedTables:0,totalRows:g.tables.reduce(function(F,K){return F+K.rowCount},0),totalTables:g.tables.length},c&&We.ignoreTransaction(function(){return c(A)}),!o.clearTablesBeforeImport)return[3,5];U=0,M=p.tables,O.label=2;case 2:return U<M.length?(B=M[U],[4,B.clear()]):[3,5];case 3:O.sent(),O.label=4;case 4:return U++,[3,2];case 5:return o.noTransaction?[4,y()]:[3,7];case 6:return O.sent(),[3,9];case 7:return[4,p.transaction("rw",p.tables,y)];case 8:O.sent(),O.label=9;case 9:return A.done=!0,c&&We.ignoreTransaction(function(){return c(A)}),[2]}})})}function nn(p,l){return yt(this,void 0,void 0,function(){var o,y;return ct(this,function(v){switch(v.label){case 0:o="slice"in p?Rn(p):p,v.label=1;case 1:return o.eof()?[3,3]:[4,o.pullAsync(l)];case 2:return v.sent(),o.result.data&&o.result.data.data?[3,3]:[3,1];case 3:if(y=o.result,!y||y.formatName!="dexie")throw new Error("Given file is not a dexie export");if(y.formatVersion>Un)throw new Error("Format version ".concat(y.formatVersion," not supported"));if(!y.data)throw new Error("No data in export file");if(!y.data.databaseName)throw new Error("Missing databaseName in export file");if(!y.data.databaseVersion)throw new Error("Missing databaseVersion in export file");if(!y.data.tables)throw new Error("Missing tables in export file");return[2,o]}})})}We.prototype.export=function(p){return jn(this,p)};We.prototype.import=function(p,l){return tn(this,p,l)};We.import=function(p,l){return Dn(p,l)};function Kn(){It.tables.forEach(function(p){p.clear()})}const rn={exportDB:async function(){const p=await It.export(),l=URL.createObjectURL(p),o=document.createElement("a");o.href=l,o.download=`accountancy-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(o),o.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),document.body.removeChild(o)},importDB:async function(p){Kn(),await It.import(p)}};function Vt(p,l,o){const y=p.slice();return y[13]=l[o],y}function $n(p){let l,o,y,v,f,a,S,g,c,A,U;return{c(){l=X("div"),o=X("span"),y=it("Desktop"),v=Ue(),f=X("div"),a=X("div"),S=X("label"),g=X("input"),c=it(`\r
                Save imported files locally`),this.h()},l(M){l=Q(M,"DIV",{class:!0});var B=te(l);o=Q(B,"SPAN",{class:!0});var O=te(o);y=at(O,"Desktop"),O.forEach(R),v=xe(B),f=Q(B,"DIV",{});var F=te(f);a=Q(F,"DIV",{class:!0});var K=te(a);S=Q(K,"LABEL",{class:!0});var re=te(S);g=Q(re,"INPUT",{type:!0}),c=at(re,`\r
                Save imported files locally`),re.forEach(R),K.forEach(R),F.forEach(R),B.forEach(R),this.h()},h(){Y(o,"class","has-text-grey-lighter"),Y(g,"type","checkbox"),Y(S,"class","checkbox"),Y(a,"class","field"),Y(l,"class","box")},m(M,B){Ze(M,l,B),k(l,o),k(o,y),k(l,v),k(l,f),k(f,a),k(a,S),k(S,g),g.checked=p[1].saveImportedFiles,k(S,c),A||(U=ut(g,"change",p[6]),A=!0)},p(M,B){B&2&&(g.checked=M[1].saveImportedFiles)},d(M){M&&R(l),A=!1,U()}}}function Jt(p){let l,o,y,v,f,a,S,g,c,A;function U(){return p[8](p[13])}function M(){return p[9](p[13])}return{c(){l=X("div"),o=X("button"),y=X("span"),v=X("i"),f=Ue(),a=X("button"),S=X("span"),g=X("i"),this.h()},l(B){l=Q(B,"DIV",{class:!0});var O=te(l);o=Q(O,"BUTTON",{class:!0});var F=te(o);y=Q(F,"SPAN",{class:!0});var K=te(y);v=Q(K,"I",{class:!0}),te(v).forEach(R),K.forEach(R),F.forEach(R),f=xe(O),a=Q(O,"BUTTON",{class:!0});var re=te(a);S=Q(re,"SPAN",{class:!0});var pe=te(S);g=Q(pe,"I",{class:!0}),te(g).forEach(R),pe.forEach(R),re.forEach(R),O.forEach(R),this.h()},h(){Y(v,"class","fa-solid fa-pen"),Y(y,"class","icon is-small"),Y(o,"class","button is-outlined is-small"),Y(g,"class","fa-solid fa-trash"),Y(S,"class","icon is-small"),Y(a,"class","button is-outlined is-small is-danger"),Y(l,"class","ml-auto")},m(B,O){Ze(B,l,O),k(l,o),k(o,y),k(y,v),k(l,f),k(l,a),k(a,S),k(S,g),c||(A=[ut(o,"click",U),ut(a,"click",M)],c=!0)},p(B,O){p=B},d(B){B&&R(l),c=!1,kt(A)}}}function Mt(p){let l,o,y,v,f=p[13].name+"",a,S,g,c,A,U;y=new En({props:{categoryId:p[13].id}});let M=p[13].id&&Jt(p);return{c(){l=X("a"),o=X("span"),Yt(y.$$.fragment),v=Ue(),a=it(f),S=Ue(),M&&M.c(),g=Ue(),this.h()},l(B){l=Q(B,"A",{class:!0});var O=te(l);o=Q(O,"SPAN",{class:!0});var F=te(o);qt(y.$$.fragment,F),F.forEach(R),v=xe(O),a=at(O,f),S=xe(O),M&&M.l(O),g=xe(O),O.forEach(R),this.h()},h(){Y(o,"class","panel-icon"),Y(l,"class","panel-block")},m(B,O){Ze(B,l,O),k(l,o),zt(y,o,null),k(l,v),k(l,a),k(l,S),M&&M.m(l,null),k(l,g),c=!0,A||(U=ut(l,"click",Jn),A=!0)},p(B,O){const F={};O&4&&(F.categoryId=B[13].id),y.$set(F),(!c||O&4)&&f!==(f=B[13].name+"")&&Pt(a,f),B[13].id?M?M.p(B,O):(M=Jt(B),M.c(),M.m(l,g)):M&&(M.d(1),M=null)},i(B){c||(pt(y.$$.fragment,B),c=!0)},o(B){vt(y.$$.fragment,B),c=!1},d(B){B&&R(l),Ht(y),M&&M.d(),A=!1,U()}}}function Gt(p){let l,o,y,v,f,a,S=p[0].id?"Edit":"Create",g,c,A,U,M,B,O,F,K,re,pe,T,ce,H,Te,ge,Se=p[0].id?"Edit":"Add",u,r,w,d;function ue(W){p[10](W)}let se={availableColors:_n};return p[0].color!==void 0&&(se.color=p[0].color),O=new wn({props:se}),ln.push(()=>fn(O,"color",ue)),{c(){l=X("div"),o=X("div"),y=Ue(),v=X("div"),f=X("header"),a=X("p"),g=it(S),c=it(" category"),A=Ue(),U=X("button"),M=Ue(),B=X("section"),Yt(O.$$.fragment),K=Ue(),re=X("input"),pe=Ue(),T=X("footer"),ce=X("button"),H=it("Cancel"),Te=Ue(),ge=X("button"),u=it(Se),this.h()},l(W){l=Q(W,"DIV",{class:!0});var Z=te(l);o=Q(Z,"DIV",{class:!0}),te(o).forEach(R),y=xe(Z),v=Q(Z,"DIV",{class:!0});var ie=te(v);f=Q(ie,"HEADER",{class:!0});var ae=te(f);a=Q(ae,"P",{class:!0});var Fe=te(a);g=at(Fe,S),c=at(Fe," category"),Fe.forEach(R),A=xe(ae),U=Q(ae,"BUTTON",{class:!0,"aria-label":!0}),te(U).forEach(R),ae.forEach(R),M=xe(ie),B=Q(ie,"SECTION",{class:!0});var Le=te(B);qt(O.$$.fragment,Le),K=xe(Le),re=Q(Le,"INPUT",{class:!0,type:!0}),Le.forEach(R),pe=xe(ie),T=Q(ie,"FOOTER",{class:!0});var Ne=te(T);ce=Q(Ne,"BUTTON",{class:!0,"aria-label":!0});var Re=te(ce);H=at(Re,"Cancel"),Re.forEach(R),Te=xe(Ne),ge=Q(Ne,"BUTTON",{class:!0});var $e=te(ge);u=at($e,Se),$e.forEach(R),Ne.forEach(R),ie.forEach(R),Z.forEach(R),this.h()},h(){Y(o,"class","modal-background"),Y(a,"class","modal-card-title"),Y(U,"class","delete"),Y(U,"aria-label","close"),Y(f,"class","modal-card-head"),Y(re,"class","input mx-1"),Y(re,"type","text"),Y(B,"class","modal-card-body is-flex"),Y(ce,"class","button"),Y(ce,"aria-label","close"),Y(ge,"class","ml-1 button is-success"),Y(T,"class","modal-card-foot is-justify-content-flex-end p-2"),Y(v,"class","modal-card"),Y(l,"class","modal"),Rt(l,"is-active",p[0])},m(W,Z){Ze(W,l,Z),k(l,o),k(l,y),k(l,v),k(v,f),k(f,a),k(a,g),k(a,c),k(f,A),k(f,U),k(v,M),k(v,B),zt(O,B,null),k(B,K),k(B,re),Ft(re,p[0].name),k(v,pe),k(v,T),k(T,ce),k(ce,H),k(T,Te),k(T,ge),k(ge,u),r=!0,w||(d=[ut(re,"input",p[11]),ut(ge,"click",p[3]),ut(l,"closing",p[12])],w=!0)},p(W,Z){(!r||Z&1)&&S!==(S=W[0].id?"Edit":"Create")&&Pt(g,S);const ie={};!F&&Z&1&&(F=!0,ie.color=W[0].color,pn(()=>F=!1)),O.$set(ie),Z&1&&re.value!==W[0].name&&Ft(re,W[0].name),(!r||Z&1)&&Se!==(Se=W[0].id?"Edit":"Add")&&Pt(u,Se),(!r||Z&1)&&Rt(l,"is-active",W[0])},i(W){r||(pt(O.$$.fragment,W),r=!0)},o(W){vt(O.$$.fragment,W),r=!1},d(W){W&&R(l),Ht(O),w=!1,kt(d)}}}function Vn(p){let l,o,y,v,f=dn(),a,S,g,c,A,U,M,B,O,F,K,re,pe,T,ce,H,Te,ge,Se,u,r,w,d,ue,se,W,Z,ie,ae,Fe,Le,Ne,Re,$e,$,he,je,h,m,_,E=f&&$n(p),P=p[2],D=[];for(let b=0;b<P.length;b+=1)D[b]=Mt(Vt(p,P,b));const ve=b=>vt(D[b],1,1,()=>{D[b]=null});let J=p[0]&&Gt(p);return{c(){l=Ue(),o=X("h1"),y=it("Parameters"),v=Ue(),E&&E.c(),a=Ue(),S=X("div"),g=X("span"),c=it("Export / import"),A=Ue(),U=X("div"),M=X("div"),B=X("div"),O=X("label"),F=X("input"),K=Ue(),re=X("span"),pe=X("span"),T=X("i"),ce=Ue(),H=X("span"),Te=it("Choose a file"),ge=Ue(),Se=X("div"),u=X("button"),r=X("span"),w=X("i"),d=Ue(),ue=X("span"),se=it("Export"),W=Ue(),Z=X("div"),ie=X("div"),ae=X("span"),Fe=it("Categories"),Le=Ue(),Ne=X("button"),Re=X("span"),$e=X("i"),$=Ue();for(let b=0;b<D.length;b+=1)D[b].c();he=Ue(),J&&J.c(),je=Ut(),this.h()},l(b){cn("svelte-14px3fs",document.head).forEach(R),l=xe(b),o=Q(b,"H1",{class:!0});var le=te(o);y=at(le,"Parameters"),le.forEach(R),v=xe(b),E&&E.l(b),a=xe(b),S=Q(b,"DIV",{class:!0});var De=te(S);g=Q(De,"SPAN",{class:!0});var ze=te(g);c=at(ze,"Export / import"),ze.forEach(R),A=xe(De),U=Q(De,"DIV",{class:!0});var Je=te(U);M=Q(Je,"DIV",{class:!0});var et=te(M);B=Q(et,"DIV",{class:!0});var Me=te(B);O=Q(Me,"LABEL",{class:!0});var Ge=te(O);F=Q(Ge,"INPUT",{class:!0,type:!0,name:!0,accept:!0}),K=xe(Ge),re=Q(Ge,"SPAN",{class:!0});var Pe=te(re);pe=Q(Pe,"SPAN",{class:!0});var _e=te(pe);T=Q(_e,"I",{class:!0}),te(T).forEach(R),_e.forEach(R),ce=xe(Pe),H=Q(Pe,"SPAN",{class:!0});var be=te(H);Te=at(be,"Choose a file"),be.forEach(R),Pe.forEach(R),Ge.forEach(R),Me.forEach(R),et.forEach(R),ge=xe(Je),Se=Q(Je,"DIV",{class:!0});var Ee=te(Se);u=Q(Ee,"BUTTON",{class:!0});var Ie=te(u);r=Q(Ie,"SPAN",{class:!0});var x=te(r);w=Q(x,"I",{class:!0}),te(w).forEach(R),x.forEach(R),d=xe(Ie),ue=Q(Ie,"SPAN",{});var n=te(ue);se=at(n,"Export"),n.forEach(R),Ie.forEach(R),Ee.forEach(R),Je.forEach(R),De.forEach(R),W=xe(b),Z=Q(b,"DIV",{class:!0});var e=te(Z);ie=Q(e,"DIV",{class:!0});var t=te(ie);ae=Q(t,"SPAN",{class:!0});var i=te(ae);Fe=at(i,"Categories"),i.forEach(R),Le=xe(t),Ne=Q(t,"BUTTON",{class:!0});var s=te(Ne);Re=Q(s,"SPAN",{class:!0});var N=te(Re);$e=Q(N,"I",{class:!0}),te($e).forEach(R),N.forEach(R),s.forEach(R),t.forEach(R),$=xe(e);for(let I=0;I<D.length;I+=1)D[I].l(e);e.forEach(R),he=xe(b),J&&J.l(b),je=Ut(),this.h()},h(){document.title="MePloutos - Parameters",Y(o,"class","title"),Y(g,"class","has-text-grey-lighter"),Y(F,"class","file-input"),Y(F,"type","file"),Y(F,"name","resume"),Y(F,"accept","application/JSON"),Y(T,"class","fa fa-file-import"),Y(pe,"class","file-icon"),Y(H,"class","file-label"),Y(re,"class","file-cta is-fullwidth"),Y(O,"class","file-label is-fullwidth"),Y(B,"class","file"),Y(M,"class","column"),Y(w,"class","fa-solid fa-file-export"),Y(r,"class","icon"),Y(u,"class","button is-fullwidth"),Y(Se,"class","column"),Y(U,"class","columns"),Y(S,"class","box"),Y(ae,"class","has-text-grey-lighter"),Y($e,"class","fa-solid fa-plus"),Y(Re,"class","icon is-small"),Y(Ne,"class","button is-small is-light"),Y(ie,"class","panel-block flex-container pb-0"),Y(Z,"class","panel has-background-white")},m(b,ne){Ze(b,l,ne),Ze(b,o,ne),k(o,y),Ze(b,v,ne),E&&E.m(b,ne),Ze(b,a,ne),Ze(b,S,ne),k(S,g),k(g,c),k(S,A),k(S,U),k(U,M),k(M,B),k(B,O),k(O,F),k(O,K),k(O,re),k(re,pe),k(pe,T),k(re,ce),k(re,H),k(H,Te),k(U,ge),k(U,Se),k(Se,u),k(u,r),k(r,w),k(u,d),k(u,ue),k(ue,se),Ze(b,W,ne),Ze(b,Z,ne),k(Z,ie),k(ie,ae),k(ae,Fe),k(ie,Le),k(ie,Ne),k(Ne,Re),k(Re,$e),k(Z,$);for(let le=0;le<D.length;le+=1)D[le]&&D[le].m(Z,null);Ze(b,he,ne),J&&J.m(b,ne),Ze(b,je,ne),h=!0,m||(_=[ut(F,"change",p[5]),ut(u,"click",rn.exportDB),ut(Ne,"click",p[7])],m=!0)},p(b,[ne]){if(f&&E.p(b,ne),ne&21){P=b[2];let le;for(le=0;le<P.length;le+=1){const De=Vt(b,P,le);D[le]?(D[le].p(De,ne),pt(D[le],1)):(D[le]=Mt(De),D[le].c(),pt(D[le],1),D[le].m(Z,null))}for(Dt(),le=P.length;le<D.length;le+=1)ve(le);xt()}b[0]?J?(J.p(b,ne),ne&1&&pt(J,1)):(J=Gt(b),J.c(),pt(J,1),J.m(je.parentNode,je)):J&&(Dt(),vt(J,1,1,()=>{J=null}),xt())},i(b){if(!h){for(let ne=0;ne<P.length;ne+=1)pt(D[ne]);pt(J),h=!0}},o(b){D=D.filter(Boolean);for(let ne=0;ne<D.length;ne+=1)vt(D[ne]);vt(J),h=!1},d(b){b&&R(l),b&&R(o),b&&R(v),E&&E.d(b),b&&R(a),b&&R(S),b&&R(W),b&&R(Z),un(D,b),b&&R(he),J&&J.d(b),b&&R(je),m=!1,kt(_)}}}const Jn=()=>{};function Mn(p,l,o){let y,v;Lt(p,$t,K=>o(1,y=K)),Lt(p,gn,K=>o(2,v=K));function f(){g.id?Tt.update(g):Tt.create(g),o(0,g=null)}function a(K){Kt.show(`Are you sure you want to delete '${K.name}' ?`,"Delete category","is-danger").then(re=>{re&&Tt.remove(K.id)})}function S(K){Kt.show("Importing from a file will clear all current data, are you sure ?","Import a save","is-warning").then(re=>{re&&rn.importDB(K.target.files[0])})}let g=null;function c(){y.saveImportedFiles=this.checked,$t.set(y)}const A=()=>o(0,g=new hn),U=K=>o(0,g=K),M=K=>a(K);function B(K){p.$$.not_equal(g.color,K)&&(g.color=K,o(0,g))}function O(){g.name=this.value,o(0,g)}return[g,y,v,f,a,S,c,A,U,M,B,O,()=>{o(0,g=null)}]}class Xn extends an{constructor(l){super(),on(this,l,Mn,Vn,sn,{})}}export{Xn as component};
