import{S as Ve,i as Qe,s as We,k as M,q as le,a as ce,l as S,m as N,r as ue,h as O,c as de,n as x,b as Fe,E as g,F as Se,C as Ne,G as ft,D as bt,o as wt,u as De,I as Ue,w as Et,Q as At,y as Ct,z as xt,X as rt,A as It,R as Ot,g as Tt,d as Dt,B as kt}from"./index.14546b91.js";import{a as Mt}from"./store.eb676330.js";import{d as he,T as St,u as et,i as Rt,A as Nt}from"./helpers.de17de56.js";import{C as Ft,c as Pt}from"./ColorInput.99d94a8c.js";import{b as Lt}from"./store.e30c45fe.js";const Pe={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",ct:"http://gionkunz.github.com/chartist-js/ct"},nt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};function st(t,e){return typeof t=="number"?t+e:t}function qe(t){if(typeof t=="string"){const e=/^(\d+)\s*(.*)$/g.exec(t);return{value:e?+e[1]:0,unit:(e==null?void 0:e[2])||void 0}}return{value:Number(t)}}function zt(t){return String.fromCharCode(97+t%26)}function Ke(t,e,r,n){const s=(n-90)*Math.PI/180;return{x:t+r*Math.cos(s),y:e+r*Math.sin(s)}}function Le(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];for(let s=0;s<r.length;s++){const o=r[s];for(const u in o){const c=o[u];typeof c=="object"&&c!==null&&!(c instanceof Array)?t[u]=Le(t[u],c):t[u]=c}}return t}const jt=t=>t;function it(t,e){return Array.from({length:t},e?(r,n)=>e(n):()=>{})}const Bt=(t,e)=>t+(e||0);function Ee(t,e){return t!==null&&typeof t=="object"&&Reflect.has(t,e)}function Ut(t){return t!==null&&isFinite(t)}function qt(t){return!t&&t!==0}function Be(t){return Ut(t)?Number(t):void 0}function Vt(t){return Array.isArray(t)?t.every(Array.isArray):!1}function Qt(t){return t==null||typeof t=="number"&&isNaN(t)}function Wt(t){return Array.isArray(t)&&t.every(e=>Array.isArray(e)||Ee(e,"data"))}function Ht(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,s;const o={labels:(t.labels||[]).slice(),series:$t(t.series,r,n)},u=o.labels.length;return Vt(o.series)?(s=Math.max(u,...o.series.map(c=>c.length)),o.series.forEach(c=>{c.push(...it(Math.max(0,s-c.length)))})):s=o.series.length,o.labels.push(...it(Math.max(0,s-u),()=>"")),e&&Kt(o),o}function Kt(t){var e;(e=t.labels)===null||e===void 0||e.reverse(),t.series.reverse();for(const r of t.series)Ee(r,"data")?r.data.reverse():Array.isArray(r)&&r.reverse()}function Zt(t,e){let r,n;if(typeof t!="object"){const s=Be(t);e==="x"?r=s:n=s}else Ee(t,"x")&&(r=Be(t.x)),Ee(t,"y")&&(n=Be(t.y));if(!(r===void 0&&n===void 0))return{x:r,y:n}}function at(t,e){if(!Qt(t))return e?Zt(t,e):Be(t)}function Ge(t,e){return Array.isArray(t)?t.map(r=>Ee(r,"value")?at(r.value,e):at(r,e)):Ge(t.data,e)}function $t(t,e,r){if(Wt(t))return t.map(s=>Ge(s,e));const n=Ge(t,e);return r?n.map(s=>[s]):n}function Gt(t){let e="";return t==null?t:(typeof t=="number"?e=""+t:typeof t=="object"?e=JSON.stringify({data:t}):e=String(t),Object.keys(nt).reduce((r,n)=>r.replaceAll(n,nt[n]),e))}class Jt{call(e,r){return this.svgElements.forEach(n=>Reflect.apply(n[e],n,r)),this}attr(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.call("attr",r)}elem(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.call("elem",r)}root(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.call("root",r)}getNode(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.call("getNode",r)}foreignObject(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.call("foreignObject",r)}text(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.call("text",r)}empty(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.call("empty",r)}remove(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.call("remove",r)}addClass(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.call("addClass",r)}removeClass(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.call("removeClass",r)}removeAllClasses(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.call("removeAllClasses",r)}animate(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.call("animate",r)}constructor(e){this.svgElements=[];for(let r=0;r<e.length;r++)this.svgElements.push(new Ie(e[r]))}}const pt={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};function ot(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=arguments.length>4?arguments[4]:void 0;const{easing:o,...u}=r,c={};let l,C;o&&(l=Array.isArray(o)?o:pt[o]),u.begin=st(u.begin,"ms"),u.dur=st(u.dur,"ms"),l&&(u.calcMode="spline",u.keySplines=l.join(" "),u.keyTimes="0;1"),n&&(u.fill="freeze",c[e]=u.from,t.attr(c),C=qe(u.begin||0).value,u.begin="indefinite");const I=t.elem("animate",{attributeName:e,...u});n&&setTimeout(()=>{try{I._node.beginElement()}catch{c[e]=u.to,t.attr(c),I.remove()}},C);const D=I.getNode();s&&D.addEventListener("beginEvent",()=>s.emit("animationBegin",{element:t,animate:D,params:r})),D.addEventListener("endEvent",()=>{s&&s.emit("animationEnd",{element:t,animate:D,params:r}),n&&(c[e]=u.to,t.attr(c),I.remove())})}class Ie{attr(e,r){return typeof e=="string"?r?this._node.getAttributeNS(r,e):this._node.getAttribute(e):(Object.keys(e).forEach(n=>{if(e[n]!==void 0)if(n.indexOf(":")!==-1){const s=n.split(":");this._node.setAttributeNS(Pe[s[0]],n,String(e[n]))}else this._node.setAttribute(n,String(e[n]))}),this)}elem(e,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return new Ie(e,r,n,this,s)}parent(){return this._node.parentNode instanceof SVGElement?new Ie(this._node.parentNode):null}root(){let e=this._node;for(;e.nodeName!=="svg"&&e.parentElement;)e=e.parentElement;return new Ie(e)}querySelector(e){const r=this._node.querySelector(e);return r?new Ie(r):null}querySelectorAll(e){const r=this._node.querySelectorAll(e);return new Jt(r)}getNode(){return this._node}foreignObject(e,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o;if(typeof e=="string"){const c=document.createElement("div");c.innerHTML=e,o=c.firstChild}else o=e;o instanceof Element&&o.setAttribute("xmlns",Pe.xmlns);const u=this.elem("foreignObject",r,n,s);return u._node.appendChild(o),u}text(e){return this._node.appendChild(document.createTextNode(e)),this}empty(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this}remove(){var e;return(e=this._node.parentNode)===null||e===void 0||e.removeChild(this._node),this.parent()}replace(e){var r;return(r=this._node.parentNode)===null||r===void 0||r.replaceChild(e._node,this._node),e}append(e){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)&&this._node.firstChild?this._node.insertBefore(e._node,this._node.firstChild):this._node.appendChild(e._node),this}classes(){const e=this._node.getAttribute("class");return e?e.trim().split(/\s+/):[]}addClass(e){return this._node.setAttribute("class",this.classes().concat(e.trim().split(/\s+/)).filter(function(r,n,s){return s.indexOf(r)===n}).join(" ")),this}removeClass(e){const r=e.trim().split(/\s+/);return this._node.setAttribute("class",this.classes().filter(n=>r.indexOf(n)===-1).join(" ")),this}removeAllClasses(){return this._node.setAttribute("class",""),this}height(){return this._node.getBoundingClientRect().height}width(){return this._node.getBoundingClientRect().width}animate(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2?arguments[2]:void 0;return Object.keys(e).forEach(s=>{const o=e[s];Array.isArray(o)?o.forEach(u=>ot(this,s,u,!1,n)):ot(this,s,o,r,n)}),this}constructor(e,r,n,s,o=!1){e instanceof Element?this._node=e:(this._node=document.createElementNS(Pe.svg,e),e==="svg"&&this.attr({"xmlns:ct":Pe.ct})),r&&this.attr(r),n&&this.addClass(n),s&&(o&&s._node.firstChild?s._node.insertBefore(this._node,s._node.firstChild):s._node.appendChild(this._node))}}Ie.Easing=pt;function Yt(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"100%",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"100%",n=arguments.length>3?arguments[3]:void 0;Array.from(t.querySelectorAll("svg")).filter(o=>o.getAttributeNS(Pe.xmlns,"ct")).forEach(o=>t.removeChild(o));const s=new Ie("svg").attr({width:e,height:r}).attr({style:"width: ".concat(e,"; height: ").concat(r,";")});return n&&s.addClass(n),t.appendChild(s.getNode()),s}function Xt(t){return typeof t=="number"?{top:t,right:t,bottom:t,left:t}:t===void 0?{top:0,right:0,bottom:0,left:0}:{top:typeof t.top=="number"?t.top:0,right:typeof t.right=="number"?t.right:0,bottom:typeof t.bottom=="number"?t.bottom:0,left:typeof t.left=="number"?t.left:0}}function er(t,e){var r,n,s,o;const u=!!(e.axisX||e.axisY),c=((r=e.axisY)===null||r===void 0?void 0:r.offset)||0,l=((n=e.axisX)===null||n===void 0?void 0:n.offset)||0,C=(s=e.axisY)===null||s===void 0?void 0:s.position,I=(o=e.axisX)===null||o===void 0?void 0:o.position;let D=t.width()||qe(e.width).value||0,L=t.height()||qe(e.height).value||0;const v=Xt(e.chartPadding);D=Math.max(D,c+v.left+v.right),L=Math.max(L,l+v.top+v.bottom);const _={x1:0,x2:0,y1:0,y2:0,padding:v,width(){return this.x2-this.x1},height(){return this.y1-this.y2}};return u?(I==="start"?(_.y2=v.top+l,_.y1=Math.max(L-v.bottom,_.y2+1)):(_.y2=v.top,_.y1=Math.max(L-v.bottom-l,_.y2+1)),C==="start"?(_.x1=v.left+c,_.x2=Math.max(D-v.right,_.x1+1)):(_.x1=v.left,_.x2=Math.max(D-v.right-c,_.x1+1))):(_.x1=v.left,_.x2=Math.max(D-v.right,_.x1+1),_.y2=v.top,_.y1=Math.max(L-v.bottom,_.y2+1)),_}function lt(t,e,r){let n;const s=[];function o(c){const l=n;n=Le({},t),e&&e.forEach(C=>{window.matchMedia(C[0]).matches&&(n=Le(n,C[1]))}),r&&c&&r.emit("optionsChanged",{previousOptions:l,currentOptions:n})}function u(){s.forEach(c=>c.removeEventListener("change",o))}if(window.matchMedia)e&&e.forEach(c=>{const l=window.matchMedia(c[0]);l.addEventListener("change",o),s.push(l)});else throw new Error("window.matchMedia not found! Make sure you're using a polyfill.");return o(),{removeMediaQueryListeners:u,getCurrentOptions(){return n}}}const Je={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},tr={accuracy:3};function je(t,e,r,n,s,o){const u={command:s?t.toLowerCase():t.toUpperCase(),...e,...o?{data:o}:{}};r.splice(n,0,u)}function Ze(t,e){t.forEach((r,n)=>{Je[r.command.toLowerCase()].forEach((s,o)=>{e(r,s,n,o,t)})})}class Me{static join(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const s=new Me(r,n);for(let o=0;o<e.length;o++){const u=e[o];for(let c=0;c<u.pathElements.length;c++)s.pathElements.push(u.pathElements[c])}return s}position(e){return e!==void 0?(this.pos=Math.max(0,Math.min(this.pathElements.length,e)),this):this.pos}remove(e){return this.pathElements.splice(this.pos,e),this}move(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=arguments.length>3?arguments[3]:void 0;return je("M",{x:+e,y:+r},this.pathElements,this.pos++,n,s),this}line(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=arguments.length>3?arguments[3]:void 0;return je("L",{x:+e,y:+r},this.pathElements,this.pos++,n,s),this}curve(e,r,n,s,o,u){let c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1,l=arguments.length>7?arguments[7]:void 0;return je("C",{x1:+e,y1:+r,x2:+n,y2:+s,x:+o,y:+u},this.pathElements,this.pos++,c,l),this}arc(e,r,n,s,o,u,c){let l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,C=arguments.length>8?arguments[8]:void 0;return je("A",{rx:e,ry:r,xAr:n,lAf:s,sf:o,x:u,y:c},this.pathElements,this.pos++,l,C),this}parse(e){const r=e.replace(/([A-Za-z])(-?[0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce((s,o)=>(o.match(/[A-Za-z]/)&&s.push([]),s[s.length-1].push(o),s),[]);r[r.length-1][0].toUpperCase()==="Z"&&r.pop();const n=r.map(s=>{const o=s.shift(),u=Je[o.toLowerCase()];return{command:o,...u.reduce((c,l,C)=>(c[l]=+s[C],c),{})}});return this.pathElements.splice(this.pos,0,...n),this.pos+=n.length,this}stringify(){const e=Math.pow(10,this.options.accuracy);return this.pathElements.reduce((r,n)=>{const s=Je[n.command.toLowerCase()].map(o=>{const u=n[o];return this.options.accuracy?Math.round(u*e)/e:u});return r+n.command+s.join(",")},"")+(this.close?"Z":"")}scale(e,r){return Ze(this.pathElements,(n,s)=>{n[s]*=s[0]==="x"?e:r}),this}translate(e,r){return Ze(this.pathElements,(n,s)=>{n[s]+=s[0]==="x"?e:r}),this}transform(e){return Ze(this.pathElements,(r,n,s,o,u)=>{const c=e(r,n,s,o,u);(c||c===0)&&(r[n]=c)}),this}clone(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const r=new Me(e||this.close);return r.pos=this.pos,r.pathElements=this.pathElements.slice().map(n=>({...n})),r.options={...this.options},r}splitByCommand(e){const r=[new Me];return this.pathElements.forEach(n=>{n.command===e.toUpperCase()&&r[r.length-1].pathElements.length!==0&&r.push(new Me),r[r.length-1].pathElements.push(n)}),r}constructor(e=!1,r){this.close=e,this.pathElements=[],this.pos=0,this.options={...tr,...r}}}class rr{on(e,r){const{allListeners:n,listeners:s}=this;e==="*"?n.add(r):(s.has(e)||s.set(e,new Set),s.get(e).add(r))}off(e,r){const{allListeners:n,listeners:s}=this;if(e==="*")r?n.delete(r):n.clear();else if(s.has(e)){const o=s.get(e);r?o.delete(r):o.clear(),o.size||s.delete(e)}}emit(e,r){const{allListeners:n,listeners:s}=this;s.has(e)&&s.get(e).forEach(o=>o(r)),n.forEach(o=>o(e,r))}constructor(){this.listeners=new Map,this.allListeners=new Set}}const $e=new WeakMap;class nr{update(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(e&&(this.data=e||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.eventEmitter.emit("data",{type:"update",data:this.data})),r&&(this.options=Le({},n?this.options:this.defaultOptions,r),!this.initializeTimeoutId)){var s;(s=this.optionsProvider)===null||s===void 0||s.removeMediaQueryListeners(),this.optionsProvider=lt(this.options,this.responsiveOptions,this.eventEmitter)}return!this.initializeTimeoutId&&this.optionsProvider&&this.createChart(this.optionsProvider.getCurrentOptions()),this}detach(){if(this.initializeTimeoutId)window.clearTimeout(this.initializeTimeoutId);else{var e;window.removeEventListener("resize",this.resizeListener),(e=this.optionsProvider)===null||e===void 0||e.removeMediaQueryListeners()}return $e.delete(this.container),this}on(e,r){return this.eventEmitter.on(e,r),this}off(e,r){return this.eventEmitter.off(e,r),this}initialize(){window.addEventListener("resize",this.resizeListener),this.optionsProvider=lt(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.on("optionsChanged",()=>this.update()),this.options.plugins&&this.options.plugins.forEach(e=>{Array.isArray(e)?e[0](this,e[1]):e(this)}),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=null}constructor(e,r,n,s,o){this.data=r,this.defaultOptions=n,this.options=s,this.responsiveOptions=o,this.eventEmitter=new rr,this.resizeListener=()=>this.update(),this.initializeTimeoutId=setTimeout(()=>this.initialize(),0);const u=typeof e=="string"?document.querySelector(e):e;if(!u)throw new Error("Target element is not found");this.container=u;const c=$e.get(u);c&&c.detach(),$e.set(u,this)}}const ut={width:void 0,height:void 0,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",label:"ct-label"},startAngle:0,total:void 0,donut:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:jt,labelDirection:"neutral",ignoreEmptyValues:!1};function sr(t,e,r){const n=e.x>t.x;return n&&r==="explode"||!n&&r==="implode"?"start":n&&r==="implode"||!n&&r==="explode"?"end":"middle"}class ir extends nr{createChart(e){const{data:r}=this,n=Ht(r),s=[];let o,u,c=e.startAngle;const l=Yt(this.container,e.width,e.height,e.donut?e.classNames.chartDonut:e.classNames.chartPie);this.svg=l;const C=er(l,e);let I=Math.min(C.width()/2,C.height()/2);const D=e.total||n.series.reduce(Bt,0),L=qe(e.donutWidth);L.unit==="%"&&(L.value*=I/100),I-=e.donut?L.value/2:0,e.labelPosition==="outside"||e.donut?u=I:e.labelPosition==="center"?u=0:u=I/2,e.labelOffset&&(u+=e.labelOffset);const v={x:C.x1+C.width()/2,y:C.y2+C.height()/2},_=r.series.filter(k=>Ee(k,"value")?k.value!==0:k!==0).length===1;r.series.forEach((k,F)=>s[F]=l.elem("g")),e.showLabel&&(o=l.elem("g")),r.series.forEach((k,F)=>{var ee,U;if(n.series[F]===0&&e.ignoreEmptyValues)return;const te=Ee(k,"name")&&k.name,oe=Ee(k,"className")&&k.className,se=Ee(k,"meta")?k.meta:void 0;te&&s[F].attr({"ct:series-name":te}),s[F].addClass([(ee=e.classNames)===null||ee===void 0?void 0:ee.series,oe||"".concat((U=e.classNames)===null||U===void 0?void 0:U.series,"-").concat(zt(F))].join(" "));let R=D>0?c+n.series[F]/D*360:0;const A=Math.max(0,c-(F===0||_?0:.2));R-A>=359.99&&(R=A+359.99);const a=Ke(v.x,v.y,I,A),i=Ke(v.x,v.y,I,R),d=new Me(!e.donut).move(i.x,i.y).arc(I,I,0,+(R-c>180),0,a.x,a.y);e.donut||d.line(v.x,v.y);const h=s[F].elem("path",{d:d.stringify()},e.donut?e.classNames.sliceDonut:e.classNames.slicePie);if(h.attr({"ct:value":n.series[F],"ct:meta":Gt(se)}),e.donut&&h.attr({style:"stroke-width: "+L.value+"px"}),this.eventEmitter.emit("draw",{type:"slice",value:n.series[F],totalDataSum:D,index:F,meta:se,series:k,group:s[F],element:h,path:d.clone(),center:v,radius:I,startAngle:c,endAngle:R,chartRect:C}),e.showLabel){let p;r.series.length===1?p={x:v.x,y:v.y}:p=Ke(v.x,v.y,u,c+(R-c)/2);let y;n.labels&&!qt(n.labels[F])?y=n.labels[F]:y=n.series[F];const b=e.labelInterpolationFnc(y,F);if(b||b===0){const j=o.elem("text",{dx:p.x,dy:p.y,"text-anchor":sr(v,p,e.labelDirection)},e.classNames.label).text(String(b));this.eventEmitter.emit("draw",{type:"label",index:F,group:o,element:j,text:""+b,chartRect:C,series:k,meta:se,...p})}}c=R}),this.eventEmitter.emit("created",{chartRect:C,svg:l,options:e})}constructor(e,r,n,s){super(e,r,ut,Le({},ut,n),s),this.data=r}}function ar(t){let e,r,n;return{c(){e=M("div"),r=M("span"),n=le("No values"),this.h()},l(s){e=S(s,"DIV",{class:!0});var o=N(e);r=S(o,"SPAN",{class:!0});var u=N(r);n=ue(u,"No values"),u.forEach(O),o.forEach(O),this.h()},h(){x(r,"class","has-text-grey"),x(e,"class","flex-centered p-5")},m(s,o){Fe(s,e,o),g(e,r),g(r,n)},d(s){s&&O(e)}}}function or(t){let e;return{c(){e=M("div"),this.h()},l(r){e=S(r,"DIV",{class:!0}),N(e).forEach(O),this.h()},h(){x(e,"class","ct-chart svelte-xvasi4")},m(r,n){Fe(r,e,n)},d(r){r&&O(e)}}}function lr(t){let e,r,n,s,o,u,c,l,C,I,D,L,v,_,k,F,ee,U,te,oe,se,R,A,a,i,d,h,p;function y(T,m){return T[1]?or:ar}let b=y(t),j=b(t);return{c(){e=M("div"),r=M("div"),n=M("span"),s=le("Categories"),o=ce(),u=M("div"),c=M("div"),l=M("button"),C=M("span"),I=M("i"),D=ce(),L=M("div"),v=M("div"),_=M("a"),k=le("All"),ee=ce(),U=M("a"),te=le("Only negatives"),se=ce(),R=M("a"),A=le("Only positives"),i=ce(),j.c(),this.h()},l(T){e=S(T,"DIV",{class:!0});var m=N(e);r=S(m,"DIV",{class:!0});var Q=N(r);n=S(Q,"SPAN",{class:!0});var E=N(n);s=ue(E,"Categories"),E.forEach(O),o=de(Q),u=S(Q,"DIV",{class:!0});var ie=N(u);c=S(ie,"DIV",{class:!0});var P=N(c);l=S(P,"BUTTON",{class:!0,"aria-haspopup":!0});var f=N(l);C=S(f,"SPAN",{class:!0});var B=N(C);I=S(B,"I",{class:!0}),N(I).forEach(O),B.forEach(O),f.forEach(O),P.forEach(O),D=de(ie),L=S(ie,"DIV",{class:!0,role:!0});var Z=N(L);v=S(Z,"DIV",{class:!0});var z=N(v);_=S(z,"A",{class:!0});var Y=N(_);k=ue(Y,"All"),Y.forEach(O),ee=de(z),U=S(z,"A",{class:!0});var $=N(U);te=ue($,"Only negatives"),$.forEach(O),se=de(z),R=S(z,"A",{class:!0});var G=N(R);A=ue(G,"Only positives"),G.forEach(O),z.forEach(O),Z.forEach(O),ie.forEach(O),Q.forEach(O),i=de(m),j.l(m),m.forEach(O),this.h()},h(){x(n,"class","has-text-grey-lighter box-title"),x(I,"class","fa-solid fa-filter"),x(C,"class","icon is-small"),x(l,"class","button is-small is-light"),x(l,"aria-haspopup","true"),x(c,"class","dropdown-trigger"),x(_,"class",F="dropdown-item "+(t[2]=="all"?"is-active":"")),x(U,"class",oe="dropdown-item "+(t[2]=="onlyNegatives"?"is-active":"")),x(R,"class",a="dropdown-item "+(t[2]=="onlyPositives"?"is-active":"")),x(v,"class","dropdown-content"),x(L,"class","dropdown-menu"),x(L,"role","menu"),x(u,"class","dropdown is-right"),x(r,"class","flex-container"),x(e,"class",d="box flex-auto-height "+t[0]+" svelte-xvasi4")},m(T,m){Fe(T,e,m),g(e,r),g(r,n),g(n,s),g(r,o),g(r,u),g(u,c),g(c,l),g(l,C),g(C,I),g(u,D),g(u,L),g(L,v),g(v,_),g(_,k),g(v,ee),g(v,U),g(U,te),g(v,se),g(v,R),g(R,A),g(e,i),j.m(e,null),h||(p=[Se(_,"click",t[7]),Se(U,"click",t[8]),Se(R,"click",t[9])],h=!0)},p(T,[m]){m&4&&F!==(F="dropdown-item "+(T[2]=="all"?"is-active":""))&&x(_,"class",F),m&4&&oe!==(oe="dropdown-item "+(T[2]=="onlyNegatives"?"is-active":""))&&x(U,"class",oe),m&4&&a!==(a="dropdown-item "+(T[2]=="onlyPositives"?"is-active":""))&&x(R,"class",a),b!==(b=y(T))&&(j.d(1),j=b(T),j&&(j.c(),j.m(e,null))),m&1&&d!==(d="box flex-auto-height "+T[0]+" svelte-xvasi4")&&x(e,"class",d)},i:Ne,o:Ne,d(T){T&&O(e),j.d(),h=!1,ft(p)}}}function ur(t,e,r){return{series:e.map(n=>({value:Math.abs(n.value)*100/r||1,className:`category-${n.id}`})),labels:e.map(n=>t.get(n.id).name)}}function cr(t,e,r){let n;bt(t,Mt,_=>r(6,n=_));function s(_,k){if(k.categoriesTotal)switch(_){case"all":r(4,c=k.totals.total),r(3,u=k.categoriesTotal);break;case"onlyNegatives":r(4,c=k.totals.totalNegative),r(3,u=k.categoriesNegative);break;case"onlyPositives":r(4,c=k.totals.totalPositive),r(3,u=k.categoriesPositive);break}}wt(async()=>{r(5,l=new ir(".ct-chart",{series:[],labels:[]},{donut:!0,donutWidth:40,donutSolid:!0,startAngle:270,showLabel:!0}))});let o="onlyNegatives",u=[],c=0,l=null,{class:C=""}=e,{transactionsRecap:I={}}=e;const D=()=>r(2,o="all"),L=()=>r(2,o="onlyNegatives"),v=()=>r(2,o="onlyPositives");return t.$$set=_=>{"class"in _&&r(0,C=_.class),"transactionsRecap"in _&&r(1,I=_.transactionsRecap)},t.$$.update=()=>{t.$$.dirty&6&&s(o,I),t.$$.dirty&120&&l&&u.length&&l.update(ur(n,u,c))},[C,I,o,u,c,l,n,D,L,v]}class cn extends Ve{constructor(e){super(),Qe(this,e,cr,lr,We,{class:0,transactionsRecap:1})}}function dr(t){let e,r,n,s=t[0].positiveTotal.toLocaleString(void 0,{currency:"EUR",style:"currency"})+"",o,u,c,l=(Math.round(t[0].positiveTotal*100/t[0].total)||0)+"",C,I,D,L,v,_,k=t[0].negativeTotal.toLocaleString(void 0,{currency:"EUR",style:"currency"})+"",F,ee,U,te=(Math.round(t[0].negativeTotal*100/t[0].total)||0)+"",oe,se,R;return{c(){e=M("div"),r=M("div"),n=M("span"),o=le(s),u=ce(),c=M("span"),C=le(l),I=le(" %"),D=M("i"),L=ce(),v=M("div"),_=M("span"),F=le(k),ee=ce(),U=M("span"),oe=le(te),se=le(" %"),R=M("i"),this.h()},l(A){e=S(A,"DIV",{class:!0});var a=N(e);r=S(a,"DIV",{class:!0});var i=N(r);n=S(i,"SPAN",{class:!0});var d=N(n);o=ue(d,s),d.forEach(O),u=de(i),c=S(i,"SPAN",{class:!0});var h=N(c);C=ue(h,l),I=ue(h," %"),D=S(h,"I",{class:!0}),N(D).forEach(O),h.forEach(O),i.forEach(O),L=de(a),v=S(a,"DIV",{class:!0});var p=N(v);_=S(p,"SPAN",{class:!0});var y=N(_);F=ue(y,k),y.forEach(O),ee=de(p),U=S(p,"SPAN",{class:!0});var b=N(U);oe=ue(b,te),se=ue(b," %"),R=S(b,"I",{class:!0}),N(R).forEach(O),b.forEach(O),p.forEach(O),a.forEach(O),this.h()},h(){x(n,"class","title is-spaced"),x(D,"class","fa-solid fa-arrow-trend-up"),x(c,"class","percent has-text-success subtitle is-4 svelte-8wyi98"),x(r,"class","column"),x(_,"class","title is-spaced"),x(R,"class","fa-solid fa-arrow-trend-down"),x(U,"class","percent has-text-danger subtitle is-4 svelte-8wyi98"),x(v,"class","column summary"),x(e,"class","columns is-mobile has-text-centered")},m(A,a){Fe(A,e,a),g(e,r),g(r,n),g(n,o),g(r,u),g(r,c),g(c,C),g(c,I),g(c,D),g(e,L),g(e,v),g(v,_),g(_,F),g(v,ee),g(v,U),g(U,oe),g(U,se),g(U,R)},p(A,[a]){a&1&&s!==(s=A[0].positiveTotal.toLocaleString(void 0,{currency:"EUR",style:"currency"})+"")&&De(o,s),a&1&&l!==(l=(Math.round(A[0].positiveTotal*100/A[0].total)||0)+"")&&De(C,l),a&1&&k!==(k=A[0].negativeTotal.toLocaleString(void 0,{currency:"EUR",style:"currency"})+"")&&De(F,k),a&1&&te!==(te=(Math.round(A[0].negativeTotal*100/A[0].total)||0)+"")&&De(oe,te)},i:Ne,o:Ne,d(A){A&&O(e)}}}function hr(t,e,r){let{transactionsTotals:n=null}=e;return t.$$set=s=>{"transactionsTotals"in s&&r(0,n=s.transactionsTotals)},[n]}class dn extends Ve{constructor(e){super(),Qe(this,e,hr,dr,We,{transactionsTotals:0})}}function fr(t){return he.accounts.add(t)}function pr(t){return he.accounts.delete(t)}function mr(t){return he.accounts.update(t.id,t)}function gr(t,e){return he.accounts.update(t,{balance:e})}function hn(){return he.accounts.toArray()}function fn(t){return t?he.accounts.get(t):Promise.resolve(null)}function vr(t,e){return he.transactions.where("id").anyOf(t.map(r=>r.id)).modify({categoryId:e.id})}function yr(){return he.transactions.orderBy("date").last()}function _r(t){return he.transactions.bulkAdd(t)}function br(t){return he.transactions.where("accountId").equals(t).delete()}function wr(t){return he.transactions.bulkDelete(t.map(e=>e.id))}function pn(t,e){return t?e?he.transactions.where("date").above(e).and(r=>r.accountId===t).toArray():he.transactions.where("accountId").equals(t).toArray():Promise.resolve([])}var Er=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ar(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mt={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(r,n){t.exports=n()})(Er,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},s=!n.document&&!!n.postMessage,o=n.IS_PAPA_WORKER||!1,u={},c=0,l={parse:function(a,i){var d=(i=i||{}).dynamicTyping||!1;if(A(d)&&(i.dynamicTypingFunction=d,d={}),i.dynamicTyping=d,i.transform=!!A(i.transform)&&i.transform,i.worker&&l.WORKERS_SUPPORTED){var h=function(){if(!l.WORKERS_SUPPORTED)return!1;var y=(j=n.URL||n.webkitURL||null,T=r.toString(),l.BLOB_URL||(l.BLOB_URL=j.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",T,")();"],{type:"text/javascript"})))),b=new n.Worker(y),j,T;return b.onmessage=U,b.id=c++,u[b.id]=b}();return h.userStep=i.step,h.userChunk=i.chunk,h.userComplete=i.complete,h.userError=i.error,i.step=A(i.step),i.chunk=A(i.chunk),i.complete=A(i.complete),i.error=A(i.error),delete i.worker,void h.postMessage({input:a,config:i,workerId:h.id})}var p=null;return l.NODE_STREAM_INPUT,typeof a=="string"?(a=function(y){return y.charCodeAt(0)===65279?y.slice(1):y}(a),p=i.download?new D(i):new v(i)):a.readable===!0&&A(a.read)&&A(a.on)?p=new _(i):(n.File&&a instanceof File||a instanceof Object)&&(p=new L(i)),p.stream(a)},unparse:function(a,i){var d=!1,h=!0,p=",",y=`\r
`,b='"',j=b+b,T=!1,m=null,Q=!1;(function(){if(typeof i=="object"){if(typeof i.delimiter!="string"||l.BAD_DELIMITERS.filter(function(f){return i.delimiter.indexOf(f)!==-1}).length||(p=i.delimiter),(typeof i.quotes=="boolean"||typeof i.quotes=="function"||Array.isArray(i.quotes))&&(d=i.quotes),typeof i.skipEmptyLines!="boolean"&&typeof i.skipEmptyLines!="string"||(T=i.skipEmptyLines),typeof i.newline=="string"&&(y=i.newline),typeof i.quoteChar=="string"&&(b=i.quoteChar),typeof i.header=="boolean"&&(h=i.header),Array.isArray(i.columns)){if(i.columns.length===0)throw new Error("Option columns is empty");m=i.columns}i.escapeChar!==void 0&&(j=i.escapeChar+b),(typeof i.escapeFormulae=="boolean"||i.escapeFormulae instanceof RegExp)&&(Q=i.escapeFormulae instanceof RegExp?i.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var E=new RegExp(F(b),"g");if(typeof a=="string"&&(a=JSON.parse(a)),Array.isArray(a)){if(!a.length||Array.isArray(a[0]))return ie(null,a,T);if(typeof a[0]=="object")return ie(m||Object.keys(a[0]),a,T)}else if(typeof a=="object")return typeof a.data=="string"&&(a.data=JSON.parse(a.data)),Array.isArray(a.data)&&(a.fields||(a.fields=a.meta&&a.meta.fields||m),a.fields||(a.fields=Array.isArray(a.data[0])?a.fields:typeof a.data[0]=="object"?Object.keys(a.data[0]):[]),Array.isArray(a.data[0])||typeof a.data[0]=="object"||(a.data=[a.data])),ie(a.fields||[],a.data||[],T);throw new Error("Unable to serialize unrecognized input");function ie(f,B,Z){var z="";typeof f=="string"&&(f=JSON.parse(f)),typeof B=="string"&&(B=JSON.parse(B));var Y=Array.isArray(f)&&0<f.length,$=!Array.isArray(B[0]);if(Y&&h){for(var G=0;G<f.length;G++)0<G&&(z+=p),z+=P(f[G],G);0<B.length&&(z+=y)}for(var w=0;w<B.length;w++){var q=Y?f.length:B[w].length,W=!1,re=Y?Object.keys(B[w]).length===0:B[w].length===0;if(Z&&!Y&&(W=Z==="greedy"?B[w].join("").trim()==="":B[w].length===1&&B[w][0].length===0),Z==="greedy"&&Y){for(var V=[],ae=0;ae<q;ae++){var J=$?f[ae]:ae;V.push(B[w][J])}W=V.join("").trim()===""}if(!W){for(var K=0;K<q;K++){0<K&&!re&&(z+=p);var ve=Y&&$?f[K]:K;z+=P(B[w][ve],K)}w<B.length-1&&(!Z||0<q&&!re)&&(z+=y)}}return z}function P(f,B){if(f==null)return"";if(f.constructor===Date)return JSON.stringify(f).slice(1,25);var Z=!1;Q&&typeof f=="string"&&Q.test(f)&&(f="'"+f,Z=!0);var z=f.toString().replace(E,j);return(Z=Z||d===!0||typeof d=="function"&&d(f,B)||Array.isArray(d)&&d[B]||function(Y,$){for(var G=0;G<$.length;G++)if(-1<Y.indexOf($[G]))return!0;return!1}(z,l.BAD_DELIMITERS)||-1<z.indexOf(p)||z.charAt(0)===" "||z.charAt(z.length-1)===" ")?b+z+b:z}}};if(l.RECORD_SEP=String.fromCharCode(30),l.UNIT_SEP=String.fromCharCode(31),l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!s&&!!n.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=ee,l.ParserHandle=k,l.NetworkStreamer=D,l.FileStreamer=L,l.StringStreamer=v,l.ReadableStreamStreamer=_,n.jQuery){var C=n.jQuery;C.fn.parse=function(a){var i=a.config||{},d=[];return this.each(function(y){if(!(C(this).prop("tagName").toUpperCase()==="INPUT"&&C(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var b=0;b<this.files.length;b++)d.push({file:this.files[b],inputElem:this,instanceConfig:C.extend({},i)})}),h(),this;function h(){if(d.length!==0){var y,b,j,T,m=d[0];if(A(a.before)){var Q=a.before(m.file,m.inputElem);if(typeof Q=="object"){if(Q.action==="abort")return y="AbortError",b=m.file,j=m.inputElem,T=Q.reason,void(A(a.error)&&a.error({name:y},b,j,T));if(Q.action==="skip")return void p();typeof Q.config=="object"&&(m.instanceConfig=C.extend(m.instanceConfig,Q.config))}else if(Q==="skip")return void p()}var E=m.instanceConfig.complete;m.instanceConfig.complete=function(ie){A(E)&&E(ie,m.file,m.inputElem),p()},l.parse(m.file,m.instanceConfig)}else A(a.complete)&&a.complete()}function p(){d.splice(0,1),h()}}}function I(a){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(i){var d=se(i);d.chunkSize=parseInt(d.chunkSize),i.step||i.chunk||(d.chunkSize=null),this._handle=new k(d),(this._handle.streamer=this)._config=d}.call(this,a),this.parseChunk=function(i,d){if(this.isFirstChunk&&A(this._config.beforeFirstChunk)){var h=this._config.beforeFirstChunk(i);h!==void 0&&(i=h)}this.isFirstChunk=!1,this._halted=!1;var p=this._partialLine+i;this._partialLine="";var y=this._handle.parse(p,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var b=y.meta.cursor;this._finished||(this._partialLine=p.substring(b-this._baseIndex),this._baseIndex=b),y&&y.data&&(this._rowCount+=y.data.length);var j=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(o)n.postMessage({results:y,workerId:l.WORKER_ID,finished:j});else if(A(this._config.chunk)&&!d){if(this._config.chunk(y,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);y=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(y.data),this._completeResults.errors=this._completeResults.errors.concat(y.errors),this._completeResults.meta=y.meta),this._completed||!j||!A(this._config.complete)||y&&y.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),j||y&&y.meta.paused||this._nextChunk(),y}this._halted=!0},this._sendError=function(i){A(this._config.error)?this._config.error(i):o&&this._config.error&&n.postMessage({workerId:l.WORKER_ID,error:i,finished:!1})}}function D(a){var i;(a=a||{}).chunkSize||(a.chunkSize=l.RemoteChunkSize),I.call(this,a),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(d){this._input=d,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(i=new XMLHttpRequest,this._config.withCredentials&&(i.withCredentials=this._config.withCredentials),s||(i.onload=R(this._chunkLoaded,this),i.onerror=R(this._chunkError,this)),i.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var d=this._config.downloadRequestHeaders;for(var h in d)i.setRequestHeader(h,d[h])}if(this._config.chunkSize){var p=this._start+this._config.chunkSize-1;i.setRequestHeader("Range","bytes="+this._start+"-"+p)}try{i.send(this._config.downloadRequestBody)}catch(y){this._chunkError(y.message)}s&&i.status===0&&this._chunkError()}},this._chunkLoaded=function(){i.readyState===4&&(i.status<200||400<=i.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:i.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(d){var h=d.getResponseHeader("Content-Range");return h===null?-1:parseInt(h.substring(h.lastIndexOf("/")+1))}(i),this.parseChunk(i.responseText)))},this._chunkError=function(d){var h=i.statusText||d;this._sendError(new Error(h))}}function L(a){var i,d;(a=a||{}).chunkSize||(a.chunkSize=l.LocalChunkSize),I.call(this,a);var h=typeof FileReader<"u";this.stream=function(p){this._input=p,d=p.slice||p.webkitSlice||p.mozSlice,h?((i=new FileReader).onload=R(this._chunkLoaded,this),i.onerror=R(this._chunkError,this)):i=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var p=this._input;if(this._config.chunkSize){var y=Math.min(this._start+this._config.chunkSize,this._input.size);p=d.call(p,this._start,y)}var b=i.readAsText(p,this._config.encoding);h||this._chunkLoaded({target:{result:b}})},this._chunkLoaded=function(p){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(p.target.result)},this._chunkError=function(){this._sendError(i.error)}}function v(a){var i;I.call(this,a=a||{}),this.stream=function(d){return i=d,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var d,h=this._config.chunkSize;return h?(d=i.substring(0,h),i=i.substring(h)):(d=i,i=""),this._finished=!i,this.parseChunk(d)}}}function _(a){I.call(this,a=a||{});var i=[],d=!0,h=!1;this.pause=function(){I.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){I.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(p){this._input=p,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){h&&i.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),i.length?this.parseChunk(i.shift()):d=!0},this._streamData=R(function(p){try{i.push(typeof p=="string"?p:p.toString(this._config.encoding)),d&&(d=!1,this._checkIsFinished(),this.parseChunk(i.shift()))}catch(y){this._streamError(y)}},this),this._streamError=R(function(p){this._streamCleanUp(),this._sendError(p)},this),this._streamEnd=R(function(){this._streamCleanUp(),h=!0,this._streamData("")},this),this._streamCleanUp=R(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function k(a){var i,d,h,p=Math.pow(2,53),y=-p,b=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,j=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,T=this,m=0,Q=0,E=!1,ie=!1,P=[],f={data:[],errors:[],meta:{}};if(A(a.step)){var B=a.step;a.step=function(w){if(f=w,Y())z();else{if(z(),f.data.length===0)return;m+=w.data.length,a.preview&&m>a.preview?d.abort():(f.data=f.data[0],B(f,T))}}}function Z(w){return a.skipEmptyLines==="greedy"?w.join("").trim()==="":w.length===1&&w[0].length===0}function z(){return f&&h&&(G("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),h=!1),a.skipEmptyLines&&(f.data=f.data.filter(function(w){return!Z(w)})),Y()&&function(){if(!f)return;function w(W,re){A(a.transformHeader)&&(W=a.transformHeader(W,re)),P.push(W)}if(Array.isArray(f.data[0])){for(var q=0;Y()&&q<f.data.length;q++)f.data[q].forEach(w);f.data.splice(0,1)}else f.data.forEach(w)}(),function(){if(!f||!a.header&&!a.dynamicTyping&&!a.transform)return f;function w(W,re){var V,ae=a.header?{}:[];for(V=0;V<W.length;V++){var J=V,K=W[V];a.header&&(J=V>=P.length?"__parsed_extra":P[V]),a.transform&&(K=a.transform(K,J)),K=$(J,K),J==="__parsed_extra"?(ae[J]=ae[J]||[],ae[J].push(K)):ae[J]=K}return a.header&&(V>P.length?G("FieldMismatch","TooManyFields","Too many fields: expected "+P.length+" fields but parsed "+V,Q+re):V<P.length&&G("FieldMismatch","TooFewFields","Too few fields: expected "+P.length+" fields but parsed "+V,Q+re)),ae}var q=1;return!f.data.length||Array.isArray(f.data[0])?(f.data=f.data.map(w),q=f.data.length):f.data=w(f.data,0),a.header&&f.meta&&(f.meta.fields=P),Q+=q,f}()}function Y(){return a.header&&P.length===0}function $(w,q){return W=w,a.dynamicTypingFunction&&a.dynamicTyping[W]===void 0&&(a.dynamicTyping[W]=a.dynamicTypingFunction(W)),(a.dynamicTyping[W]||a.dynamicTyping)===!0?q==="true"||q==="TRUE"||q!=="false"&&q!=="FALSE"&&(function(re){if(b.test(re)){var V=parseFloat(re);if(y<V&&V<p)return!0}return!1}(q)?parseFloat(q):j.test(q)?new Date(q):q===""?null:q):q;var W}function G(w,q,W,re){var V={type:w,code:q,message:W};re!==void 0&&(V.row=re),f.errors.push(V)}this.parse=function(w,q,W){var re=a.quoteChar||'"';if(a.newline||(a.newline=function(J,K){J=J.substring(0,1048576);var ve=new RegExp(F(K)+"([^]*?)"+F(K),"gm"),fe=(J=J.replace(ve,"")).split("\r"),_e=J.split(`
`),be=1<_e.length&&_e[0].length<fe[0].length;if(fe.length===1||be)return`
`;for(var pe=0,X=0;X<fe.length;X++)fe[X][0]===`
`&&pe++;return pe>=fe.length/2?`\r
`:"\r"}(w,re)),h=!1,a.delimiter)A(a.delimiter)&&(a.delimiter=a.delimiter(w),f.meta.delimiter=a.delimiter);else{var V=function(J,K,ve,fe,_e){var be,pe,X,ne;_e=_e||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var Oe=0;Oe<_e.length;Oe++){var H=_e[Oe],ke=0,we=0,Te=0;X=void 0;for(var Ae=new ee({comments:fe,delimiter:H,newline:K,preview:10}).parse(J),Ce=0;Ce<Ae.data.length;Ce++)if(ve&&Z(Ae.data[Ce]))Te++;else{var xe=Ae.data[Ce].length;we+=xe,X!==void 0?0<xe&&(ke+=Math.abs(xe-X),X=xe):X=xe}0<Ae.data.length&&(we/=Ae.data.length-Te),(pe===void 0||ke<=pe)&&(ne===void 0||ne<we)&&1.99<we&&(pe=ke,be=H,ne=we)}return{successful:!!(a.delimiter=be),bestDelimiter:be}}(w,a.newline,a.skipEmptyLines,a.comments,a.delimitersToGuess);V.successful?a.delimiter=V.bestDelimiter:(h=!0,a.delimiter=l.DefaultDelimiter),f.meta.delimiter=a.delimiter}var ae=se(a);return a.preview&&a.header&&ae.preview++,i=w,d=new ee(ae),f=d.parse(i,q,W),z(),E?{meta:{paused:!0}}:f||{meta:{paused:!1}}},this.paused=function(){return E},this.pause=function(){E=!0,d.abort(),i=A(a.chunk)?"":i.substring(d.getCharIndex())},this.resume=function(){T.streamer._halted?(E=!1,T.streamer.parseChunk(i,!0)):setTimeout(T.resume,3)},this.aborted=function(){return ie},this.abort=function(){ie=!0,d.abort(),f.meta.aborted=!0,A(a.complete)&&a.complete(f),i=""}}function F(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ee(a){var i,d=(a=a||{}).delimiter,h=a.newline,p=a.comments,y=a.step,b=a.preview,j=a.fastMode,T=i=a.quoteChar===void 0||a.quoteChar===null?'"':a.quoteChar;if(a.escapeChar!==void 0&&(T=a.escapeChar),(typeof d!="string"||-1<l.BAD_DELIMITERS.indexOf(d))&&(d=","),p===d)throw new Error("Comment character same as delimiter");p===!0?p="#":(typeof p!="string"||-1<l.BAD_DELIMITERS.indexOf(p))&&(p=!1),h!==`
`&&h!=="\r"&&h!==`\r
`&&(h=`
`);var m=0,Q=!1;this.parse=function(E,ie,P){if(typeof E!="string")throw new Error("Input must be a string");var f=E.length,B=d.length,Z=h.length,z=p.length,Y=A(y),$=[],G=[],w=[],q=m=0;if(!E)return me();if(a.header&&!ie){var W=E.split(h)[0].split(d),re=[],V={},ae=!1;for(var J in W){var K=W[J];A(a.transformHeader)&&(K=a.transformHeader(K,J));var ve=K,fe=V[K]||0;for(0<fe&&(ae=!0,ve=K+"_"+fe),V[K]=fe+1;re.includes(ve);)ve=ve+"_"+fe;re.push(ve)}if(ae){var _e=E.split(h);_e[0]=re.join(d),E=_e.join(h)}}if(j||j!==!1&&E.indexOf(i)===-1){for(var be=E.split(h),pe=0;pe<be.length;pe++){if(w=be[pe],m+=w.length,pe!==be.length-1)m+=h.length;else if(P)return me();if(!p||w.substring(0,z)!==p){if(Y){if($=[],Te(w.split(d)),ze(),Q)return me()}else Te(w.split(d));if(b&&b<=pe)return $=$.slice(0,b),me(!0)}}return me()}for(var X=E.indexOf(d,m),ne=E.indexOf(h,m),Oe=new RegExp(F(T)+F(i),"g"),H=E.indexOf(i,m);;)if(E[m]!==i)if(p&&w.length===0&&E.substring(m,m+z)===p){if(ne===-1)return me();m=ne+Z,ne=E.indexOf(h,m),X=E.indexOf(d,m)}else if(X!==-1&&(X<ne||ne===-1))w.push(E.substring(m,X)),m=X+B,X=E.indexOf(d,m);else{if(ne===-1)break;if(w.push(E.substring(m,ne)),xe(ne+Z),Y&&(ze(),Q))return me();if(b&&$.length>=b)return me(!0)}else for(H=m,m++;;){if((H=E.indexOf(i,H+1))===-1)return P||G.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:$.length,index:m}),Ce();if(H===f-1)return Ce(E.substring(m,H).replace(Oe,i));if(i!==T||E[H+1]!==T){if(i===T||H===0||E[H-1]!==T){X!==-1&&X<H+1&&(X=E.indexOf(d,H+1)),ne!==-1&&ne<H+1&&(ne=E.indexOf(h,H+1));var ke=Ae(ne===-1?X:Math.min(X,ne));if(E.substr(H+1+ke,B)===d){w.push(E.substring(m,H).replace(Oe,i)),E[m=H+1+ke+B]!==i&&(H=E.indexOf(i,m)),X=E.indexOf(d,m),ne=E.indexOf(h,m);break}var we=Ae(ne);if(E.substring(H+1+we,H+1+we+Z)===h){if(w.push(E.substring(m,H).replace(Oe,i)),xe(H+1+we+Z),X=E.indexOf(d,m),H=E.indexOf(i,m),Y&&(ze(),Q))return me();if(b&&$.length>=b)return me(!0);break}G.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:$.length,index:m}),H++}}else H++}return Ce();function Te(ge){$.push(ge),q=m}function Ae(ge){var tt=0;if(ge!==-1){var He=E.substring(H+1,ge);He&&He.trim()===""&&(tt=He.length)}return tt}function Ce(ge){return P||(ge===void 0&&(ge=E.substring(m)),w.push(ge),m=f,Te(w),Y&&ze()),me()}function xe(ge){m=ge,Te(w),w=[],ne=E.indexOf(h,m)}function me(ge){return{data:$,errors:G,meta:{delimiter:d,linebreak:h,aborted:Q,truncated:!!ge,cursor:q+(ie||0)}}}function ze(){y(me()),$=[],G=[]}},this.abort=function(){Q=!0},this.getCharIndex=function(){return m}}function U(a){var i=a.data,d=u[i.workerId],h=!1;if(i.error)d.userError(i.error,i.file);else if(i.results&&i.results.data){var p={abort:function(){h=!0,te(i.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:oe,resume:oe};if(A(d.userStep)){for(var y=0;y<i.results.data.length&&(d.userStep({data:i.results.data[y],errors:i.results.errors,meta:i.results.meta},p),!h);y++);delete i.results}else A(d.userChunk)&&(d.userChunk(i.results,p,i.file),delete i.results)}i.finished&&!h&&te(i.workerId,i.results)}function te(a,i){var d=u[a];A(d.userComplete)&&d.userComplete(i),d.terminate(),delete u[a]}function oe(){throw new Error("Not implemented.")}function se(a){if(typeof a!="object"||a===null)return a;var i=Array.isArray(a)?[]:{};for(var d in a)i[d]=se(a[d]);return i}function R(a,i){return function(){a.apply(i,arguments)}}function A(a){return typeof a=="function"}return o&&(n.onmessage=function(a){var i=a.data;if(l.WORKER_ID===void 0&&i&&(l.WORKER_ID=i.workerId),typeof i.input=="string")n.postMessage({workerId:l.WORKER_ID,results:l.parse(i.input,i.config),finished:!0});else if(n.File&&i.input instanceof File||i.input instanceof Object){var d=l.parse(i.input,i.config);d&&n.postMessage({workerId:l.WORKER_ID,results:d,finished:!0})}}),(D.prototype=Object.create(I.prototype)).constructor=D,(L.prototype=Object.create(I.prototype)).constructor=L,(v.prototype=Object.create(v.prototype)).constructor=v,(_.prototype=Object.create(I.prototype)).constructor=_,l})})(mt);var Cr=mt.exports;const xr=Ar(Cr),Ir={labanquepostale:{csv:{date:[3,1],dayTimespan:30,balance:[4,1],transactions:{startLine:7,dateCol:0,descriptionCol:1,valueCol:2}}}};function Or(t){return new Promise((e,r)=>{xr.parse(t,{delimiter:";",skipEmptyLines:!0,complete:function(n){e(n.data)},error:r})})}function ct(t){return parseFloat(t.replace(",","."))}function dt(t){let e=t.split("/");return new Date(Date.UTC(parseInt(e[2],10),parseInt(e[1],10)-1,parseInt(e[0],10)))}function Tr(t,e,r){let n=[],s=ct(t[e.balance[0]][e.balance[1]].replace()),o=dt(t[e.date[0]][e.date[1]]),u=new Date(o);u.setDate(u.getDate()-e.dayTimespan);for(let c=e.transactions.startLine;c<t.length;c++)n.push(new St(et(),dt(t[c][e.transactions.dateCol]),t[c][e.transactions.descriptionCol].trim(),ct(t[c][e.transactions.valueCol])));return{balance:s,dateMin:u,dateMax:o,transactions:n}}async function Dr(t,e){switch(e.bank){case"labanquepostale":return Tr(await Or(t),Ir[e.bank].csv,e.accountId)}}function kr(t,e,r){const n={};for(let s=r.length-1;s>=0;s--){let o=r[s];const u=o.date.toDateString();n[u]=n[u]+1||0,o.orderNumber=n[u],o.accountId=t}if(r.sort((s,o)=>o.date-s.date||o.orderNumber-s.orderNumber),!e)return r;if(r[0].date<=(e==null?void 0:e.date))return[];if(e){e.orderNumber+=1;let s=null;for(let o=r.length-1;o>=0;o--){if(r[o].date.getTime()==e.date.getTime()&&r[o].description==e.description&&r[o].value==e.value){r=r.slice(0,o);break}if(r[o].date.getTime()==e.date.getTime()&&(s||(s=o+1),r[o].orderNumber+=e.orderNumber),r[o].date>e.date){r=r.slice(0,s||o);break}}}return r}var Mr=Object.defineProperty,gt=(t,e)=>{for(var r in e)Mr(t,r,{get:e[r],enumerable:!0})},Sr={};gt(Sr,{convertFileSrc:()=>Nr,invoke:()=>vt,transformCallback:()=>Ye});function Rr(){return window.crypto.getRandomValues(new Uint32Array(1))[0]}function Ye(t,e=!1){let r=Rr(),n=`_${r}`;return Object.defineProperty(window,n,{value:s=>(e&&Reflect.deleteProperty(window,n),t==null?void 0:t(s)),writable:!1,configurable:!0}),r}async function vt(t,e={}){return new Promise((r,n)=>{let s=Ye(u=>{r(u),Reflect.deleteProperty(window,`_${o}`)},!0),o=Ye(u=>{n(u),Reflect.deleteProperty(window,`_${s}`)},!0);window.__TAURI_IPC__({cmd:t,callback:s,error:o,...e})})}function Nr(t,e="asset"){let r=encodeURIComponent(t);return navigator.userAgent.includes("Windows")?`https://${e}.localhost/${r}`:`${e}://localhost/${r}`}async function ye(t){return vt("tauri",t)}var Fr={};gt(Fr,{BaseDirectory:()=>Re,Dir:()=>Re,copyFile:()=>Ur,createDir:()=>yt,exists:()=>_t,readBinaryFile:()=>Lr,readDir:()=>jr,readTextFile:()=>Pr,removeDir:()=>Br,removeFile:()=>qr,renameFile:()=>Vr,writeBinaryFile:()=>zr,writeFile:()=>Xe,writeTextFile:()=>Xe});var Re=(t=>(t[t.Audio=1]="Audio",t[t.Cache=2]="Cache",t[t.Config=3]="Config",t[t.Data=4]="Data",t[t.LocalData=5]="LocalData",t[t.Desktop=6]="Desktop",t[t.Document=7]="Document",t[t.Download=8]="Download",t[t.Executable=9]="Executable",t[t.Font=10]="Font",t[t.Home=11]="Home",t[t.Picture=12]="Picture",t[t.Public=13]="Public",t[t.Runtime=14]="Runtime",t[t.Template=15]="Template",t[t.Video=16]="Video",t[t.Resource=17]="Resource",t[t.App=18]="App",t[t.Log=19]="Log",t[t.Temp=20]="Temp",t[t.AppConfig=21]="AppConfig",t[t.AppData=22]="AppData",t[t.AppLocalData=23]="AppLocalData",t[t.AppCache=24]="AppCache",t[t.AppLog=25]="AppLog",t))(Re||{});async function Pr(t,e={}){return ye({__tauriModule:"Fs",message:{cmd:"readTextFile",path:t,options:e}})}async function Lr(t,e={}){let r=await ye({__tauriModule:"Fs",message:{cmd:"readFile",path:t,options:e}});return Uint8Array.from(r)}async function Xe(t,e,r){typeof r=="object"&&Object.freeze(r),typeof t=="object"&&Object.freeze(t);let n={path:"",contents:""},s=r;return typeof t=="string"?n.path=t:(n.path=t.path,n.contents=t.contents),typeof e=="string"?n.contents=e??"":s=e,ye({__tauriModule:"Fs",message:{cmd:"writeFile",path:n.path,contents:Array.from(new TextEncoder().encode(n.contents)),options:s}})}async function zr(t,e,r){typeof r=="object"&&Object.freeze(r),typeof t=="object"&&Object.freeze(t);let n={path:"",contents:[]},s=r;return typeof t=="string"?n.path=t:(n.path=t.path,n.contents=t.contents),e&&"dir"in e?s=e:typeof t=="string"&&(n.contents=e??[]),ye({__tauriModule:"Fs",message:{cmd:"writeFile",path:n.path,contents:Array.from(n.contents instanceof ArrayBuffer?new Uint8Array(n.contents):n.contents),options:s}})}async function jr(t,e={}){return ye({__tauriModule:"Fs",message:{cmd:"readDir",path:t,options:e}})}async function yt(t,e={}){return ye({__tauriModule:"Fs",message:{cmd:"createDir",path:t,options:e}})}async function Br(t,e={}){return ye({__tauriModule:"Fs",message:{cmd:"removeDir",path:t,options:e}})}async function Ur(t,e,r={}){return ye({__tauriModule:"Fs",message:{cmd:"copyFile",source:t,destination:e,options:r}})}async function qr(t,e={}){return ye({__tauriModule:"Fs",message:{cmd:"removeFile",path:t,options:e}})}async function Vr(t,e,r={}){return ye({__tauriModule:"Fs",message:{cmd:"renameFile",oldPath:t,newPath:e,options:r}})}async function _t(t,e={}){return ye({__tauriModule:"Fs",message:{cmd:"exists",path:t,options:e}})}async function Qr(t,e){if(!Rt())return console.warn(`You can't use "saveImportedFile" on web.`);try{await _t("imported",{dir:Re.AppData})||await yt("imported",{dir:Re.AppData,recursive:!0});const r=`{${e}_${new Date().toISOString.split("T")[0]}_${et()}`;await Xe(`imported/${r}`,await t.text(),{dir:Re.AppData})}catch(r){console.error(r)}}const Wr={saveImportedFile:Qr};function Hr(t,e){return vr(t,e)}function Kr(t){return wr(t)}async function Zr(t,e){let{balance:r,dateMin:n,dateMax:s,transactions:o}=await Dr(t,e);const u=await yr(),c=kr(e.accountId,u,o);return c.length?(_r(c),gr(e.accountId,r),e.saveImportedFile&&Wr.saveImportedFile(t,e.bank),{count:c.length}):{count:0}}function $r(t){let e=[];if(!t)return e;t=t.sort((n,s)=>s.date-n.date||s.orderNumber-n.orderNumber);let r=new Date(0);for(let n of t)n.date.getTime()!=r.getTime()&&(e.push({date:n.date,transactions:[]}),r=n.date),e[e.length-1].transactions.push(n);return e}function Gr(t){let e=new Map,r=new Map,n=new Map;e.set(null,0),r.set(null,0),n.set(null,0);let s={positiveTotal:0,negativeTotal:0,total:0};for(let l of t||[])e.has(l.categoryId)||e.set(l.categoryId,0),e.set(l.categoryId,e.get(l.categoryId)+Math.abs(l.value)),l.value>0?(r.has(l.categoryId)||r.set(l.categoryId,0),r.set(l.categoryId,r.get(l.categoryId)+l.value),s.positiveTotal+=l.value):(n.has(l.categoryId)||n.set(l.categoryId,0),n.set(l.categoryId,n.get(l.categoryId)+l.value),s.negativeTotal+=l.value);let o=Array.from(e,function(l){return{id:l[0],value:l[1]}}).reverse(),u=Array.from(r,function(l){return{id:l[0],value:l[1]}}).reverse(),c=Array.from(n,function(l){return{id:l[0],value:l[1]}}).reverse();return s.total=Math.abs(s.positiveTotal)+Math.abs(s.negativeTotal),{categoriesTotal:o,categoriesPositive:u,categoriesNegative:c,totals:s}}const mn={remove:Kr,updateCategory:Hr,imports:Zr,groupTransactionsByDate:$r,getTransactionsRecap:Gr};function Jr(t){let e,r=t[0].toLocaleString(void 0,{currency:"EUR",style:"currency"})+"",n;return{c(){e=M("b"),n=le(r),this.h()},l(s){e=S(s,"B",{});var o=N(e);n=ue(o,r),o.forEach(O),this.h()},h(){Ue(e,"has-text-link",t[0]>0)},m(s,o){Fe(s,e,o),g(e,n)},p(s,[o]){o&1&&r!==(r=s[0].toLocaleString(void 0,{currency:"EUR",style:"currency"})+"")&&De(n,r),o&1&&Ue(e,"has-text-link",s[0]>0)},i:Ne,o:Ne,d(s){s&&O(e)}}}function Yr(t,e,r){let{value:n=0}=e;return t.$$set=s=>{"value"in s&&r(0,n=s.value)},[n]}class gn extends Ve{constructor(e){super(),Qe(this,e,Yr,Jr,We,{value:0})}}function Xr(t){return t.id=et(),fr(t)}function en(t){return mr(t)}function tn(t){br(t),pr(t)}const ht={create:Xr,update:en,remove:tn};function rn(t){let e,r,n,s,o,u,c,l=t[0]?"Edit account":"Add account",C,I,D,L,v,_,k,F,ee,U,te,oe,se,R,A,a,i,d,h,p,y,b=t[0]?"Edit":"Add",j,T,m,Q;function E(P){t[7](P)}let ie={availableColors:Pt};return t[2].color!==void 0&&(ie.color=t[2].color),R=new Ft({props:ie}),Et.push(()=>At(R,"color",E)),{c(){e=M("div"),r=M("div"),n=ce(),s=M("div"),o=M("div"),u=M("div"),c=M("span"),C=le(l),I=ce(),D=M("div"),L=M("div"),v=M("label"),_=le(`Name\r
                            `),k=M("input"),F=ce(),ee=M("div"),U=M("div"),te=M("label"),oe=le("Color"),se=ce(),Ct(R.$$.fragment),a=ce(),i=M("footer"),d=M("button"),h=le("Cancel"),p=ce(),y=M("button"),j=le(b),this.h()},l(P){e=S(P,"DIV",{class:!0});var f=N(e);r=S(f,"DIV",{class:!0}),N(r).forEach(O),n=de(f),s=S(f,"DIV",{class:!0});var B=N(s);o=S(B,"DIV",{class:!0});var Z=N(o);u=S(Z,"DIV",{class:!0});var z=N(u);c=S(z,"SPAN",{class:!0});var Y=N(c);C=ue(Y,l),Y.forEach(O),I=de(z),D=S(z,"DIV",{class:!0});var $=N(D);L=S($,"DIV",{class:!0});var G=N(L);v=S(G,"LABEL",{class:!0});var w=N(v);_=ue(w,`Name\r
                            `),k=S(w,"INPUT",{class:!0,type:!0}),w.forEach(O),G.forEach(O),$.forEach(O),F=de(z),ee=S(z,"DIV",{class:!0});var q=N(ee);U=S(q,"DIV",{class:!0});var W=N(U);te=S(W,"LABEL",{class:!0});var re=N(te);oe=ue(re,"Color"),re.forEach(O),se=de(W),xt(R.$$.fragment,W),W.forEach(O),q.forEach(O),z.forEach(O),a=de(Z),i=S(Z,"FOOTER",{class:!0});var V=N(i);d=S(V,"BUTTON",{class:!0,"aria-label":!0});var ae=N(d);h=ue(ae,"Cancel"),ae.forEach(O),p=de(V),y=S(V,"BUTTON",{class:!0});var J=N(y);j=ue(J,b),J.forEach(O),V.forEach(O),Z.forEach(O),B.forEach(O),f.forEach(O),this.h()},h(){x(r,"class","modal-background"),x(c,"class","has-text-grey-lighter"),x(k,"class","input"),x(k,"type","text"),x(v,"class","label"),x(L,"class","control"),x(D,"class","field"),x(te,"class","label"),x(U,"class","control"),x(ee,"class","field"),x(u,"class","p-4"),x(d,"class","button"),x(d,"aria-label","close"),x(y,"class","ml-1 button is-success"),x(i,"class","is-flex is-justify-content-flex-end p-2"),x(o,"class","box p-0"),x(s,"class","modal-content svelte-1czsgv7"),x(e,"class","modal"),Ue(e,"is-active",t[1])},m(P,f){Fe(P,e,f),g(e,r),g(e,n),g(e,s),g(s,o),g(o,u),g(u,c),g(c,C),g(u,I),g(u,D),g(D,L),g(L,v),g(v,_),g(v,k),rt(k,t[2].name),g(u,F),g(u,ee),g(ee,U),g(U,te),g(te,oe),g(U,se),It(R,U,null),g(o,a),g(o,i),g(i,d),g(d,h),g(i,p),g(i,y),g(y,j),T=!0,m||(Q=[Se(k,"input",t[6]),Se(y,"click",t[4]),Se(e,"closing",t[3])],m=!0)},p(P,[f]){(!T||f&1)&&l!==(l=P[0]?"Edit account":"Add account")&&De(C,l),f&4&&k.value!==P[2].name&&rt(k,P[2].name);const B={};!A&&f&4&&(A=!0,B.color=P[2].color,Ot(()=>A=!1)),R.$set(B),(!T||f&1)&&b!==(b=P[0]?"Edit":"Add")&&De(j,b),(!T||f&2)&&Ue(e,"is-active",P[1])},i(P){T||(Tt(R.$$.fragment,P),T=!0)},o(P){Dt(R.$$.fragment,P),T=!1},d(P){P&&O(e),kt(R),m=!1,ft(Q)}}}function nn(t,e,r){function n(){r(1,u=!1)}function s(){c.id?ht.update(c):ht.create(c),r(1,u=!1)}let o=!1,u=!1,c={};const l={show(D){r(0,o=!!D),r(2,c=D||new Nt),r(1,u=!0)}};function C(){c.name=this.value,r(2,c)}function I(D){t.$$.not_equal(c.color,D)&&(c.color=D,r(2,c))}return[o,u,c,n,s,l,C,I]}class vn extends Ve{constructor(e){super(),Qe(this,e,nn,rn,We,{modal:5})}get modal(){return this.$$.ctx[5]}}const yn={show(t,e,r=null){Lt.update(n=>(n.visible=!0,n.position=t,n.items=e,n.context=r,n))}};export{vn as A,cn as C,gn as M,hn as a,dn as b,yn as c,fn as d,ht as e,Wr as f,pn as g,mn as t};
